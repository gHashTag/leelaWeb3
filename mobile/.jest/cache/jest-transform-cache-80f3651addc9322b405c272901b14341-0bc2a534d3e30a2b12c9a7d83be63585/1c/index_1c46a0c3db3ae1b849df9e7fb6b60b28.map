{"version":3,"names":["react_native_1","require","_env_1","native_1","Sentry","__importStar","axios_1","__importDefault","react_native_rate_1","exports","primary","secondary","gray","white","black","dimGray","lightGray","classicRose","mustard","fuchsia","trueBlue","paleBlue","brightTurquoise","red","orange","blackOpacity","grayBlackOpacity","navRef","createNavigationContainerRef","navigate","name","params","isReady","generateComment","_ref2","_asyncToGenerator2","default","_ref","message","systemMessage","planText","_response$data$choice","_response$data","_response$data$choice2","_response$data$choice3","response","post","model","messages","role","content","max_tokens","temperature","headers","Authorization","OPEN_AI_KEY","data","choices","error","captureException","_x","apply","arguments","onLeaveFeedback","onAction","options","AppleAppID","GooglePackageName","OtherAndroidURL","preferInApp","openAppStoreIfInAppFails","rate","handleCommentAi","_ref4","_ref3","curItem","_ref3$planText","aiComment","_x2","target","console","log","__DEV__","win","Dimensions","get","W","width","H","height","imgH","Math","round","isIos","Platform","OS","openUrl","_ref5","url","Linking","openURL","_x3","goBack","goHome","navigation","popToTop","ENTITLEMENT_ID","getSystemLanguage","languageCode","NativeModules","I18nManager","localeIdentifier","SettingsManager","settings","AppleLocale","slice","toLowerCase"],"sources":["/Users/playra/LeelaAiWeb3/src/cons/index.ts"],"sourcesContent":["import { Dimensions, Linking, Platform, NativeModules } from 'react-native'\n\nimport { OPEN_AI_KEY } from '@env'\nimport { createNavigationContainerRef } from '@react-navigation/native'\nimport * as Sentry from '@sentry/react-native'\nimport axios from 'axios'\nimport Rate from 'react-native-rate'\nimport { MessageAIT, HandleCommentAiParamsT } from 'types'\n\nexport const primary = '#50E3C2'\nexport const secondary = '#ff06f4'\nexport const gray = '#808080'\nexport const white = '#ffffff'\nexport const black = '#303030'\nexport const dimGray = '#b4b3b3'\nexport const lightGray = '#F5F7F8'\nexport const classicRose = '#FDBEEA'\nexport const mustard = '#F3DE50'\nexport const fuchsia = '#FF06F4'\nexport const trueBlue = '#007ACD'\nexport const paleBlue = '#BEFCE5'\nexport const brightTurquoise = '#1EE4EC'\nexport const red = '#FC2847'\nexport const orange = '#FFB700'\nexport const blackOpacity = 'rgba(0, 0, 0, 0.8)'\nexport const grayBlackOpacity = 'rgba(139, 139, 139, 0.1)'\n\nexport const navRef = createNavigationContainerRef<any>()\n\nexport const navigate = (name: string, params?: any) => {\n  if (navRef.isReady()) {\n    navRef.navigate(name, params)\n  }\n}\n\nexport const generateComment = async ({\n  message,\n  systemMessage,\n  planText,\n}: MessageAIT): Promise<string> => {\n  try {\n    const response = await axios.post(\n      'https://api.openai.com/v1/chat/completions',\n      {\n        model: 'gpt-4-0314',\n        messages: [\n          {\n            role: 'system',\n            content: systemMessage,\n          },\n          {\n            role: 'user',\n            content: message,\n          },\n          {\n            role: 'assistant',\n            content: planText,\n          },\n        ],\n        max_tokens: 1000,\n        temperature: 0.5,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${OPEN_AI_KEY}`,\n          'Content-Type': 'application/json',\n        },\n      },\n    )\n\n    return response?.data?.choices[0]?.message?.content ?? ''\n  } catch (error) {\n    captureException(error, 'generateComment')\n    throw error\n  }\n}\n\nexport const onLeaveFeedback = (onAction: (success: any) => void) => {\n  const options = {\n    AppleAppID: '1296604457',\n    GooglePackageName: 'com.leelagame',\n    OtherAndroidURL:\n      'https://play.google.com/store/apps/details?id=com.leelagame',\n    preferInApp: true,\n    openAppStoreIfInAppFails: true,\n  }\n  Rate.rate(options, onAction)\n}\n\nexport const handleCommentAi = async ({\n  curItem,\n  systemMessage,\n  message,\n  planText = ' ',\n}: HandleCommentAiParamsT): Promise<void> => {\n  const aiComment: string = await generateComment({\n    message,\n    systemMessage,\n    planText,\n  })\n\n  if (curItem && aiComment) {\n    // await PostStore.createComment({\n    //   text: aiComment,\n    //   postId: curItem.id,\n    //   postOwner: curItem.ownerId,\n    //   ownerId: LEELA_ID,\n    // })\n  }\n}\n\nexport const captureException = (error: any, target: string) => {\n  if (!error) {\n    console.log(\n      '%c captureException called with messing or incorrect arguments',\n      'background: #555; color: yellow',\n    )\n    return\n  }\n  console.error(`On:${target}/ My Error: ${error} `)\n  if (!__DEV__) {\n    Sentry.captureException(error)\n  }\n}\n\nexport const win = Dimensions.get('window')\nexport const W = win.width\nexport const H = win.height\nexport const imgH = Math.round((W * 9) / 16)\nexport const isIos = Platform.OS === 'ios'\n\nexport const openUrl = async (url: string) => {\n  await Linking.openURL(url)\n}\n\nexport const goBack = () => {\n  if (navRef.isReady()) {\n    navRef.goBack()\n  }\n}\n//@ts-ignore\nexport const goHome = (navigation) => () => navigation.popToTop()()\n\nexport const ENTITLEMENT_ID = 'Pro'\n\nexport const getSystemLanguage = () => {\n  let languageCode = 'en' // Default to English\n\n  if (Platform.OS === 'android') {\n    languageCode = NativeModules.I18nManager.localeIdentifier\n  } else if (Platform.OS === 'ios') {\n    languageCode = NativeModules.SettingsManager.settings.AppleLocale\n  }\n\n  return languageCode.slice(0, 2).toLowerCase()\n}\n"],"mappings":"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"}