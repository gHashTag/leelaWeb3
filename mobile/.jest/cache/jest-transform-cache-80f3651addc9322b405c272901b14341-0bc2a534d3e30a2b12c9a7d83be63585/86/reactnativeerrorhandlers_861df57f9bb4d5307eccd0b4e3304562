61e17c3e8e338223b844de95515b93eb
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ReactNativeErrorHandlers = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _tslib = require("tslib");
var _core = require("@sentry/core");
var _utils = require("@sentry/utils");
var _worldwide = require("../utils/worldwide");
var ReactNativeErrorHandlers = function () {
  function ReactNativeErrorHandlers(options) {
    (0, _classCallCheck2.default)(this, ReactNativeErrorHandlers);
    this.name = ReactNativeErrorHandlers.id;
    this._options = Object.assign({
      onerror: true,
      onunhandledrejection: true,
      patchGlobalPromise: true
    }, options);
  }
  (0, _createClass2.default)(ReactNativeErrorHandlers, [{
    key: "setupOnce",
    value: function setupOnce() {
      this._handleUnhandledRejections();
      this._handleOnError();
    }
  }, {
    key: "_handleUnhandledRejections",
    value: function _handleUnhandledRejections() {
      if (this._options.onunhandledrejection) {
        if (this._options.patchGlobalPromise) {
          this._polyfillPromise();
        }
        this._attachUnhandledRejectionHandler();
        this._checkPromiseAndWarn();
      }
    }
  }, {
    key: "_polyfillPromise",
    value: function _polyfillPromise() {
      var _require = require('react-native/Libraries/Utilities/PolyfillFunctions'),
        polyfillGlobal = _require.polyfillGlobal;
      var Promise = this._getPromisePolyfill();
      require('promise/setimmediate/done');
      require('promise/setimmediate/finally');
      polyfillGlobal('Promise', function () {
        return Promise;
      });
    }
  }, {
    key: "_getPromisePolyfill",
    value: function _getPromisePolyfill() {
      return require('promise/setimmediate/es6-extensions');
    }
  }, {
    key: "_attachUnhandledRejectionHandler",
    value: function _attachUnhandledRejectionHandler() {
      var tracking = require('promise/setimmediate/rejection-tracking');
      var promiseRejectionTrackingOptions = {
        onUnhandled: function onUnhandled(id) {
          var rejection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
          console.warn(`Possible Unhandled Promise Rejection (id: ${id}):\n${rejection}`);
        },
        onHandled: function onHandled(id) {
          console.warn(`Promise Rejection Handled (id: ${id})\n` + 'This means you can ignore any previous messages of the form ' + `"Possible Unhandled Promise Rejection (id: ${id}):"`);
        }
      };
      tracking.enable({
        allRejections: true,
        onUnhandled: function onUnhandled(id, error) {
          if (__DEV__) {
            promiseRejectionTrackingOptions.onUnhandled(id, error);
          }
          (0, _core.getCurrentHub)().captureException(error, {
            data: {
              id: id
            },
            originalException: error
          });
        },
        onHandled: function onHandled(id) {
          promiseRejectionTrackingOptions.onHandled(id);
        }
      });
    }
  }, {
    key: "_checkPromiseAndWarn",
    value: function _checkPromiseAndWarn() {
      try {
        var ReactNativePromise = require('react-native/Libraries/Promise');
        var PromisePackagePromise = require('promise/setimmediate/es6-extensions');
        var UsedPromisePolyfill = this._getPromisePolyfill();
        if (ReactNativePromise !== PromisePackagePromise) {
          _utils.logger.warn('You appear to have multiple versions of the "promise" package installed. ' + 'This may cause unexpected behavior like undefined `Promise.allSettled`. ' + 'Please install the `promise` package manually using the exact version as the React Native package. ' + 'See https://docs.sentry.io/platforms/react-native/troubleshooting/ for more details.');
        }
        if (UsedPromisePolyfill !== _worldwide.RN_GLOBAL_OBJ.Promise) {
          _utils.logger.warn('Unhandled promise rejections will not be caught by Sentry. ' + 'See https://docs.sentry.io/platforms/react-native/troubleshooting/ for more details.');
        } else {
          _utils.logger.log('Unhandled promise rejections will be caught by Sentry.');
        }
      } catch (e) {
        _utils.logger.warn('Unhandled promise rejections will not be caught by Sentry. ' + 'See https://docs.sentry.io/platforms/react-native/troubleshooting/ for more details.');
      }
    }
  }, {
    key: "_handleOnError",
    value: function _handleOnError() {
      var _this = this;
      if (this._options.onerror) {
        var handlingFatal = false;
        var errorUtils = _worldwide.RN_GLOBAL_OBJ.ErrorUtils;
        if (!errorUtils) {
          _utils.logger.warn('ErrorUtils not found. Can be caused by different environment for example react-native-web.');
          return;
        }
        var defaultHandler = errorUtils.getGlobalHandler && errorUtils.getGlobalHandler();
        errorUtils.setGlobalHandler(function (error, isFatal) {
          return (0, _tslib.__awaiter)(_this, void 0, void 0, function* () {
            var shouldHandleFatal = isFatal && !__DEV__;
            if (shouldHandleFatal) {
              if (handlingFatal) {
                _utils.logger.log('Encountered multiple fatals in a row. The latest:', error);
                return;
              }
              handlingFatal = true;
            }
            var currentHub = (0, _core.getCurrentHub)();
            var client = currentHub.getClient();
            var scope = currentHub.getScope();
            if (!client) {
              _utils.logger.error('Sentry client is missing, the error event might be lost.', error);
              defaultHandler(error, isFatal);
              return;
            }
            var options = client.getOptions();
            var hint = {
              originalException: error,
              attachments: scope === null || scope === void 0 ? void 0 : scope.getAttachments()
            };
            var event = yield client.eventFromException(error, hint);
            if (isFatal) {
              event.level = 'fatal';
              (0, _utils.addExceptionMechanism)(event, {
                handled: false,
                type: 'onerror'
              });
            }
            currentHub.captureEvent(event, hint);
            if (!__DEV__) {
              void client.flush(options.shutdownTimeout || 2000).then(function () {
                defaultHandler(error, isFatal);
              });
            } else {
              defaultHandler(error, isFatal);
            }
          });
        });
      }
    }
  }]);
  return ReactNativeErrorHandlers;
}();
exports.ReactNativeErrorHandlers = ReactNativeErrorHandlers;
ReactNativeErrorHandlers.id = 'ReactNativeErrorHandlers';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29yZSIsInJlcXVpcmUiLCJfdXRpbHMiLCJfd29ybGR3aWRlIiwiUmVhY3ROYXRpdmVFcnJvckhhbmRsZXJzIiwib3B0aW9ucyIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwibmFtZSIsImlkIiwiX29wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJvbmVycm9yIiwib251bmhhbmRsZWRyZWplY3Rpb24iLCJwYXRjaEdsb2JhbFByb21pc2UiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJzZXR1cE9uY2UiLCJfaGFuZGxlVW5oYW5kbGVkUmVqZWN0aW9ucyIsIl9oYW5kbGVPbkVycm9yIiwiX3BvbHlmaWxsUHJvbWlzZSIsIl9hdHRhY2hVbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyIiwiX2NoZWNrUHJvbWlzZUFuZFdhcm4iLCJfcmVxdWlyZSIsInBvbHlmaWxsR2xvYmFsIiwiUHJvbWlzZSIsIl9nZXRQcm9taXNlUG9seWZpbGwiLCJ0cmFja2luZyIsInByb21pc2VSZWplY3Rpb25UcmFja2luZ09wdGlvbnMiLCJvblVuaGFuZGxlZCIsInJlamVjdGlvbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwib25IYW5kbGVkIiwiZW5hYmxlIiwiYWxsUmVqZWN0aW9ucyIsImVycm9yIiwiX19ERVZfXyIsImdldEN1cnJlbnRIdWIiLCJjYXB0dXJlRXhjZXB0aW9uIiwiZGF0YSIsIm9yaWdpbmFsRXhjZXB0aW9uIiwiUmVhY3ROYXRpdmVQcm9taXNlIiwiUHJvbWlzZVBhY2thZ2VQcm9taXNlIiwiVXNlZFByb21pc2VQb2x5ZmlsbCIsImxvZ2dlciIsIlJOX0dMT0JBTF9PQkoiLCJsb2ciLCJlIiwiX3RoaXMiLCJoYW5kbGluZ0ZhdGFsIiwiZXJyb3JVdGlscyIsIkVycm9yVXRpbHMiLCJkZWZhdWx0SGFuZGxlciIsImdldEdsb2JhbEhhbmRsZXIiLCJzZXRHbG9iYWxIYW5kbGVyIiwiaXNGYXRhbCIsIl9fYXdhaXRlciIsInNob3VsZEhhbmRsZUZhdGFsIiwiY3VycmVudEh1YiIsImNsaWVudCIsImdldENsaWVudCIsInNjb3BlIiwiZ2V0U2NvcGUiLCJnZXRPcHRpb25zIiwiaGludCIsImF0dGFjaG1lbnRzIiwiZ2V0QXR0YWNobWVudHMiLCJldmVudCIsImV2ZW50RnJvbUV4Y2VwdGlvbiIsImxldmVsIiwiYWRkRXhjZXB0aW9uTWVjaGFuaXNtIiwiaGFuZGxlZCIsInR5cGUiLCJjYXB0dXJlRXZlbnQiLCJmbHVzaCIsInNodXRkb3duVGltZW91dCIsInRoZW4iLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2pzL2ludGVncmF0aW9ucy9yZWFjdG5hdGl2ZWVycm9yaGFuZGxlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IEV2ZW50SGludCwgSW50ZWdyYXRpb24sIFNldmVyaXR5TGV2ZWwgfSBmcm9tICdAc2VudHJ5L3R5cGVzJztcbmltcG9ydCB7IGFkZEV4Y2VwdGlvbk1lY2hhbmlzbSwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgUmVhY3ROYXRpdmVDbGllbnQgfSBmcm9tICcuLi9jbGllbnQnO1xuaW1wb3J0IHsgUk5fR0xPQkFMX09CSiB9IGZyb20gJy4uL3V0aWxzL3dvcmxkd2lkZSc7XG5cbi8qKiBSZWFjdE5hdGl2ZUVycm9ySGFuZGxlcnMgT3B0aW9ucyAqL1xuaW50ZXJmYWNlIFJlYWN0TmF0aXZlRXJyb3JIYW5kbGVyc09wdGlvbnMge1xuICBvbmVycm9yOiBib29sZWFuO1xuICBvbnVuaGFuZGxlZHJlamVjdGlvbjogYm9vbGVhbjtcbiAgcGF0Y2hHbG9iYWxQcm9taXNlOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgUHJvbWlzZVJlamVjdGlvblRyYWNraW5nT3B0aW9ucyB7XG4gIG9uVW5oYW5kbGVkOiAoaWQ6IHN0cmluZywgZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG4gIG9uSGFuZGxlZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbi8qKiBSZWFjdE5hdGl2ZUVycm9ySGFuZGxlcnMgSW50ZWdyYXRpb24gKi9cbmV4cG9ydCBjbGFzcyBSZWFjdE5hdGl2ZUVycm9ySGFuZGxlcnMgaW1wbGVtZW50cyBJbnRlZ3JhdGlvbiB7XG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBpZDogc3RyaW5nID0gJ1JlYWN0TmF0aXZlRXJyb3JIYW5kbGVycyc7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICBwdWJsaWMgbmFtZTogc3RyaW5nID0gUmVhY3ROYXRpdmVFcnJvckhhbmRsZXJzLmlkO1xuXG4gIC8qKiBSZWFjdE5hdGl2ZU9wdGlvbnMgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBfb3B0aW9uczogUmVhY3ROYXRpdmVFcnJvckhhbmRsZXJzT3B0aW9ucztcblxuICAvKiogQ29uc3RydWN0b3IgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBQYXJ0aWFsPFJlYWN0TmF0aXZlRXJyb3JIYW5kbGVyc09wdGlvbnM+KSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IHtcbiAgICAgIG9uZXJyb3I6IHRydWUsXG4gICAgICBvbnVuaGFuZGxlZHJlamVjdGlvbjogdHJ1ZSxcbiAgICAgIHBhdGNoR2xvYmFsUHJvbWlzZTogdHJ1ZSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgcHVibGljIHNldHVwT25jZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9oYW5kbGVVbmhhbmRsZWRSZWplY3Rpb25zKCk7XG4gICAgdGhpcy5faGFuZGxlT25FcnJvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBQcm9taXNlc1xuICAgKi9cbiAgcHJpdmF0ZSBfaGFuZGxlVW5oYW5kbGVkUmVqZWN0aW9ucygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fb3B0aW9ucy5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuICAgICAgaWYgKHRoaXMuX29wdGlvbnMucGF0Y2hHbG9iYWxQcm9taXNlKSB7XG4gICAgICAgIHRoaXMuX3BvbHlmaWxsUHJvbWlzZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hdHRhY2hVbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyKCk7XG4gICAgICB0aGlzLl9jaGVja1Byb21pc2VBbmRXYXJuKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQb2x5ZmlsbCB0aGUgZ2xvYmFsIHByb21pc2UgaW5zdGFuY2Ugd2l0aCBvbmUgd2UgY2FuIGJlIHN1cmUgdGhhdCB3ZSBjYW4gYXR0YWNoIHRoZSB0cmFja2luZyB0by5cbiAgICpcbiAgICogSW4gbmV3ZXIgUk4gdmVyc2lvbnMgPj0wLjYzLCB0aGUgZ2xvYmFsIHByb21pc2UgaXMgbm90IHRoZSBzYW1lIHJlZmVyZW5jZSBhcyB0aGUgb25lIGltcG9ydGVkIGZyb20gdGhlIHByb21pc2UgbGlicmFyeS5cbiAgICogVGhpcyBpcyBkdWUgdG8gYSB2ZXJzaW9uIG1pc21hdGNoIGJldHdlZW4gcHJvbWlzZSB2ZXJzaW9ucy5cbiAgICogT3JpZ2luYWxseSB3ZSB0cmllZCBhIHNvbHV0aW9uIHdoZXJlIHdlIHdvdWxkIGhhdmUgeW91IHB1dCBhIHBhY2thZ2UgcmVzb2x1dGlvbiB0byBlbnN1cmUgdGhlIHByb21pc2UgaW5zdGFuY2VzIG1hdGNoLiBIb3dldmVyLFxuICAgKiAtIFVzaW5nIGEgcGFja2FnZSByZXNvbHV0aW9uIHJlcXVpcmVzIHRoZSB5b3UgdG8gbWFudWFsbHkgdHJvdWJsZXNob290LlxuICAgKiAtIFRoZSBwYWNrYWdlIHJlc29sdXRpb24gZml4IG5vIGxvbmdlciB3b3JrcyB3aXRoIDAuNjcgb24gaU9TIEhlcm1lcy5cbiAgICovXG4gIHByaXZhdGUgX3BvbHlmaWxsUHJvbWlzZSgpOiB2b2lkIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMsQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlcyAqL1xuICAgIGNvbnN0IHsgcG9seWZpbGxHbG9iYWwgfSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvVXRpbGl0aWVzL1BvbHlmaWxsRnVuY3Rpb25zJyk7XG5cbiAgICBjb25zdCBQcm9taXNlID0gdGhpcy5fZ2V0UHJvbWlzZVBvbHlmaWxsKCk7XG5cbiAgICAvLyBBcyBvZiBSTiAwLjY3IG9ubHkgZG9uZSBhbmQgZmluYWxseSBhcmUgdXNlZFxuICAgIHJlcXVpcmUoJ3Byb21pc2Uvc2V0aW1tZWRpYXRlL2RvbmUnKTtcbiAgICByZXF1aXJlKCdwcm9taXNlL3NldGltbWVkaWF0ZS9maW5hbGx5Jyk7XG5cbiAgICBwb2x5ZmlsbEdsb2JhbCgnUHJvbWlzZScsICgpID0+IFByb21pc2UpO1xuICAgIC8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzLEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBTaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciB0aGUgUHJvbWlzZSBpbXBsZW1lbnRhdGlvbiB3ZSB3YW50IHRvIHVzZS5cbiAgICogVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHZlcmlmeWluZyB0aGF0IHRoZSByZWplY3RlZCBwcm9taXNlIHRyYWNpbmcgd2lsbCB3b3JrIGFzIGV4cGVjdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0UHJvbWlzZVBvbHlmaWxsKCk6IHVua25vd24ge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1leHRyYW5lb3VzLWRlcGVuZGVuY2llcyxAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzICovXG4gICAgLy8gQmVsb3csIHdlIGZvbGxvdyB0aGUgZXhhY3Qgd2F5IFJlYWN0IE5hdGl2ZSBpbml0aWFsaXplcyBpdHMgcHJvbWlzZSBsaWJyYXJ5LCBhbmQgd2UgZ2xvYmFsbHkgcmVwbGFjZSBpdC5cbiAgICByZXR1cm4gcmVxdWlyZSgncHJvbWlzZS9zZXRpbW1lZGlhdGUvZXM2LWV4dGVuc2lvbnMnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2ggdGhlIHVuaGFuZGxlZCByZWplY3Rpb24gaGFuZGxlclxuICAgKi9cbiAgcHJpdmF0ZSBfYXR0YWNoVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlcigpOiB2b2lkIHtcbiAgICBjb25zdCB0cmFja2luZzoge1xuICAgICAgZGlzYWJsZTogKCkgPT4gdm9pZDtcbiAgICAgIGVuYWJsZTogKGFyZzogdW5rbm93bikgPT4gdm9pZDtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMsQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlc1xuICAgIH0gPSByZXF1aXJlKCdwcm9taXNlL3NldGltbWVkaWF0ZS9yZWplY3Rpb24tdHJhY2tpbmcnKTtcblxuICAgIGNvbnN0IHByb21pc2VSZWplY3Rpb25UcmFja2luZ09wdGlvbnM6IFByb21pc2VSZWplY3Rpb25UcmFja2luZ09wdGlvbnMgPSB7XG4gICAgICBvblVuaGFuZGxlZDogKGlkLCByZWplY3Rpb24gPSB7fSkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oYFBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbiAoaWQ6ICR7aWR9KTpcXG4ke3JlamVjdGlvbn1gKTtcbiAgICAgIH0sXG4gICAgICBvbkhhbmRsZWQ6IGlkID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBQcm9taXNlIFJlamVjdGlvbiBIYW5kbGVkIChpZDogJHtpZH0pXFxuYCArXG4gICAgICAgICAgICAnVGhpcyBtZWFucyB5b3UgY2FuIGlnbm9yZSBhbnkgcHJldmlvdXMgbWVzc2FnZXMgb2YgdGhlIGZvcm0gJyArXG4gICAgICAgICAgICBgXCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb24gKGlkOiAke2lkfSk6XCJgLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdHJhY2tpbmcuZW5hYmxlKHtcbiAgICAgIGFsbFJlamVjdGlvbnM6IHRydWUsXG4gICAgICBvblVuaGFuZGxlZDogKGlkOiBzdHJpbmcsIGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICAgIHByb21pc2VSZWplY3Rpb25UcmFja2luZ09wdGlvbnMub25VbmhhbmRsZWQoaWQsIGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldEN1cnJlbnRIdWIoKS5jYXB0dXJlRXhjZXB0aW9uKGVycm9yLCB7XG4gICAgICAgICAgZGF0YTogeyBpZCB9LFxuICAgICAgICAgIG9yaWdpbmFsRXhjZXB0aW9uOiBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25IYW5kbGVkOiAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBwcm9taXNlUmVqZWN0aW9uVHJhY2tpbmdPcHRpb25zLm9uSGFuZGxlZChpZCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHByb21pc2UgaXMgdGhlIHNhbWUgb25lIG9yIG5vdCwgaWYgbm90IGl0IHdpbGwgd2FybiB0aGUgdXNlclxuICAgKi9cbiAgcHJpdmF0ZSBfY2hlY2tQcm9taXNlQW5kV2FybigpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgLy8gYHByb21pc2VgIHBhY2thZ2UgaXMgYSBkZXBlbmRlbmN5IG9mIHJlYWN0LW5hdGl2ZSwgdGhlcmVmb3JlIGl0IGlzIGFsd2F5cyBhdmFpbGFibGUuXG4gICAgICAvLyBidXQgaXQgaXMgcG9zc2libGUgdGhhdCB0aGUgdXNlciBoYXMgaW5zdGFsbGVkIGEgZGlmZmVyZW50IHZlcnNpb24gb2YgcHJvbWlzZVxuICAgICAgLy8gb3IgZGVwZW5kZW5jeSB0aGF0IHVzZXMgYSBkaWZmZXJlbnQgdmVyc2lvbi5cbiAgICAgIC8vIFdlIGhhdmUgdG8gY2hlY2sgaWYgdGhlIFJlYWN0IE5hdGl2ZSBQcm9taXNlIGFuZCB0aGUgYHByb21pc2VgIHBhY2thZ2UgUHJvbWlzZSBhcmUgdXNpbmcgdGhlIHNhbWUgcmVmZXJlbmNlLlxuICAgICAgLy8gSWYgdGhleSBhcmUgbm90LCBsaWtlbHkgdGhlcmUgYXJlIG11bHRpcGxlIHZlcnNpb25zIG9mIHRoZSBgcHJvbWlzZWAgcGFja2FnZSBpbnN0YWxsZWQuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlcyxpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcbiAgICAgIGNvbnN0IFJlYWN0TmF0aXZlUHJvbWlzZSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvUHJvbWlzZScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMsaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG4gICAgICBjb25zdCBQcm9taXNlUGFja2FnZVByb21pc2UgPSByZXF1aXJlKCdwcm9taXNlL3NldGltbWVkaWF0ZS9lczYtZXh0ZW5zaW9ucycpO1xuICAgICAgY29uc3QgVXNlZFByb21pc2VQb2x5ZmlsbCA9IHRoaXMuX2dldFByb21pc2VQb2x5ZmlsbCgpO1xuXG4gICAgICBpZiAoUmVhY3ROYXRpdmVQcm9taXNlICE9PSBQcm9taXNlUGFja2FnZVByb21pc2UpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgJ1lvdSBhcHBlYXIgdG8gaGF2ZSBtdWx0aXBsZSB2ZXJzaW9ucyBvZiB0aGUgXCJwcm9taXNlXCIgcGFja2FnZSBpbnN0YWxsZWQuICcgK1xuICAgICAgICAgICAgJ1RoaXMgbWF5IGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IgbGlrZSB1bmRlZmluZWQgYFByb21pc2UuYWxsU2V0dGxlZGAuICcgK1xuICAgICAgICAgICAgJ1BsZWFzZSBpbnN0YWxsIHRoZSBgcHJvbWlzZWAgcGFja2FnZSBtYW51YWxseSB1c2luZyB0aGUgZXhhY3QgdmVyc2lvbiBhcyB0aGUgUmVhY3QgTmF0aXZlIHBhY2thZ2UuICcgK1xuICAgICAgICAgICAgJ1NlZSBodHRwczovL2RvY3Muc2VudHJ5LmlvL3BsYXRmb3Jtcy9yZWFjdC1uYXRpdmUvdHJvdWJsZXNob290aW5nLyBmb3IgbW9yZSBkZXRhaWxzLicsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgb25seSBtYWtlIHNlbnNlIGlmIHRoZSB1c2VyIGRpc2FibGVkIHRoZSBpbnRlZ3JhdGlvbiBQb2x5ZmlsbFxuICAgICAgaWYgKFVzZWRQcm9taXNlUG9seWZpbGwgIT09IFJOX0dMT0JBTF9PQkouUHJvbWlzZSkge1xuICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAnVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9ucyB3aWxsIG5vdCBiZSBjYXVnaHQgYnkgU2VudHJ5LiAnICtcbiAgICAgICAgICAgICdTZWUgaHR0cHM6Ly9kb2NzLnNlbnRyeS5pby9wbGF0Zm9ybXMvcmVhY3QtbmF0aXZlL3Ryb3VibGVzaG9vdGluZy8gZm9yIG1vcmUgZGV0YWlscy4nLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9ucyB3aWxsIGJlIGNhdWdodCBieSBTZW50cnkuJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gRG8gTm90aGluZ1xuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zIHdpbGwgbm90IGJlIGNhdWdodCBieSBTZW50cnkuICcgK1xuICAgICAgICAgICdTZWUgaHR0cHM6Ly9kb2NzLnNlbnRyeS5pby9wbGF0Zm9ybXMvcmVhY3QtbmF0aXZlL3Ryb3VibGVzaG9vdGluZy8gZm9yIG1vcmUgZGV0YWlscy4nLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBlcnJvcnNcbiAgICovXG4gIHByaXZhdGUgX2hhbmRsZU9uRXJyb3IoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX29wdGlvbnMub25lcnJvcikge1xuICAgICAgbGV0IGhhbmRsaW5nRmF0YWwgPSBmYWxzZTtcblxuICAgICAgY29uc3QgZXJyb3JVdGlscyA9IFJOX0dMT0JBTF9PQkouRXJyb3JVdGlscztcbiAgICAgIGlmICghZXJyb3JVdGlscykge1xuICAgICAgICBsb2dnZXIud2FybignRXJyb3JVdGlscyBub3QgZm91bmQuIENhbiBiZSBjYXVzZWQgYnkgZGlmZmVyZW50IGVudmlyb25tZW50IGZvciBleGFtcGxlIHJlYWN0LW5hdGl2ZS13ZWIuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGVmYXVsdEhhbmRsZXIgPSBlcnJvclV0aWxzLmdldEdsb2JhbEhhbmRsZXIgJiYgZXJyb3JVdGlscy5nZXRHbG9iYWxIYW5kbGVyKCk7XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICBlcnJvclV0aWxzLnNldEdsb2JhbEhhbmRsZXIoYXN5bmMgKGVycm9yOiBhbnksIGlzRmF0YWw/OiBib29sZWFuKSA9PiB7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gaGFuZGxlIGZhdGFscywgYnV0IG9ubHkgaW4gcHJvZHVjdGlvbiBtb2RlLlxuICAgICAgICBjb25zdCBzaG91bGRIYW5kbGVGYXRhbCA9IGlzRmF0YWwgJiYgIV9fREVWX187XG4gICAgICAgIGlmIChzaG91bGRIYW5kbGVGYXRhbCkge1xuICAgICAgICAgIGlmIChoYW5kbGluZ0ZhdGFsKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdFbmNvdW50ZXJlZCBtdWx0aXBsZSBmYXRhbHMgaW4gYSByb3cuIFRoZSBsYXRlc3Q6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGluZ0ZhdGFsID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRIdWIgPSBnZXRDdXJyZW50SHViKCk7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGN1cnJlbnRIdWIuZ2V0Q2xpZW50PFJlYWN0TmF0aXZlQ2xpZW50PigpO1xuICAgICAgICBjb25zdCBzY29wZSA9IGN1cnJlbnRIdWIuZ2V0U2NvcGUoKTtcblxuICAgICAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcignU2VudHJ5IGNsaWVudCBpcyBtaXNzaW5nLCB0aGUgZXJyb3IgZXZlbnQgbWlnaHQgYmUgbG9zdC4nLCBlcnJvcik7XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBjbGllbnQgc29tZXRoaW5nIGlzIGZpc2h5LCBhbnl3YXkgd2UgY2FsbCB0aGUgZGVmYXVsdCBoYW5kbGVyXG4gICAgICAgICAgZGVmYXVsdEhhbmRsZXIoZXJyb3IsIGlzRmF0YWwpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNsaWVudC5nZXRPcHRpb25zKCk7XG5cbiAgICAgICAgY29uc3QgaGludDogRXZlbnRIaW50ID0ge1xuICAgICAgICAgIG9yaWdpbmFsRXhjZXB0aW9uOiBlcnJvcixcbiAgICAgICAgICBhdHRhY2htZW50czogc2NvcGU/LmdldEF0dGFjaG1lbnRzKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gYXdhaXQgY2xpZW50LmV2ZW50RnJvbUV4Y2VwdGlvbihlcnJvciwgaGludCk7XG5cbiAgICAgICAgaWYgKGlzRmF0YWwpIHtcbiAgICAgICAgICBldmVudC5sZXZlbCA9ICdmYXRhbCcgYXMgU2V2ZXJpdHlMZXZlbDtcblxuICAgICAgICAgIGFkZEV4Y2VwdGlvbk1lY2hhbmlzbShldmVudCwge1xuICAgICAgICAgICAgaGFuZGxlZDogZmFsc2UsXG4gICAgICAgICAgICB0eXBlOiAnb25lcnJvcicsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50SHViLmNhcHR1cmVFdmVudChldmVudCwgaGludCk7XG5cbiAgICAgICAgaWYgKCFfX0RFVl9fKSB7XG4gICAgICAgICAgdm9pZCBjbGllbnQuZmx1c2gob3B0aW9ucy5zaHV0ZG93blRpbWVvdXQgfHwgMjAwMCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBkZWZhdWx0SGFuZGxlcihlcnJvciwgaXNGYXRhbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgaW4gZGV2LCB3ZSBjYWxsIHRoZSBkZWZhdWx0IGhhbmRsZXIgYW55d2F5IGFuZCBob3BlIHRoZSBlcnJvciB3aWxsIGJlIHNlbnRcbiAgICAgICAgICAvLyBKdXN0IGZvciBhIGJldHRlciBkZXYgZXhwZXJpZW5jZVxuICAgICAgICAgIGRlZmF1bHRIYW5kbGVyKGVycm9yLCBpc0ZhdGFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBRUEsSUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBR0EsSUFBQUUsVUFBQSxHQUFBRixPQUFBO0FBQW1ELElBZXRDRyx3QkFBd0I7RUFlbkMsU0FBQUEseUJBQW1CQyxPQUFrRDtJQUFBLElBQUFDLGdC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