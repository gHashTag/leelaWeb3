9114dfc6afefa3bfad750b47ab1b155e
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.onlySampleIfChildSpans = void 0;
var _utils = require("@sentry/utils");
var onlySampleIfChildSpans = function onlySampleIfChildSpans(transaction) {
  var spansCount = transaction.spanRecorder && transaction.spanRecorder.spans.filter(function (span) {
    return span.spanId !== transaction.spanId;
  }).length;
  if (!spansCount || spansCount <= 0) {
    _utils.logger.log(`Not sampling as ${transaction.op} transaction has no child spans.`);
    transaction.sampled = false;
  }
};
exports.onlySampleIfChildSpans = onlySampleIfChildSpans;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXRpbHMiLCJyZXF1aXJlIiwib25seVNhbXBsZUlmQ2hpbGRTcGFucyIsInRyYW5zYWN0aW9uIiwic3BhbnNDb3VudCIsInNwYW5SZWNvcmRlciIsInNwYW5zIiwiZmlsdGVyIiwic3BhbiIsInNwYW5JZCIsImxlbmd0aCIsImxvZ2dlciIsImxvZyIsIm9wIiwic2FtcGxlZCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvanMvdHJhY2luZy90cmFuc2FjdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IElkbGVUcmFuc2FjdGlvbiB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IEJlZm9yZUZpbmlzaENhbGxiYWNrIH0gZnJvbSAnQHNlbnRyeS9jb3JlL3R5cGVzL3RyYWNpbmcvaWRsZXRyYW5zYWN0aW9uJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuXG4vKipcbiAqIElkbGUgVHJhbnNhY3Rpb24gY2FsbGJhY2sgdG8gb25seSBzYW1wbGUgdHJhbnNhY3Rpb25zIHdpdGggY2hpbGQgc3BhbnMuXG4gKiBUbyBhdm9pZCBzaWRlIGVmZmVjdHMgb2Ygb3RoZXIgY2FsbGJhY2tzIHRoaXMgc2hvdWxkIGJlIGhvb2tlZCBhcyB0aGUgbGFzdCBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IG9ubHlTYW1wbGVJZkNoaWxkU3BhbnM6IEJlZm9yZUZpbmlzaENhbGxiYWNrID0gKHRyYW5zYWN0aW9uOiBJZGxlVHJhbnNhY3Rpb24pOiB2b2lkID0+IHtcbiAgY29uc3Qgc3BhbnNDb3VudCA9XG4gICAgdHJhbnNhY3Rpb24uc3BhblJlY29yZGVyICYmXG4gICAgdHJhbnNhY3Rpb24uc3BhblJlY29yZGVyLnNwYW5zLmZpbHRlcihzcGFuID0+IHNwYW4uc3BhbklkICE9PSB0cmFuc2FjdGlvbi5zcGFuSWQpLmxlbmd0aDtcblxuICBpZiAoIXNwYW5zQ291bnQgfHwgc3BhbnNDb3VudCA8PSAwKSB7XG4gICAgbG9nZ2VyLmxvZyhgTm90IHNhbXBsaW5nIGFzICR7dHJhbnNhY3Rpb24ub3B9IHRyYW5zYWN0aW9uIGhhcyBubyBjaGlsZCBzcGFucy5gKTtcbiAgICB0cmFuc2FjdGlvbi5zYW1wbGVkID0gZmFsc2U7XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFFQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFNTyxJQUFNQyxzQkFBc0IsR0FBeUIsU0FBL0NBLHNCQUFzQkEsQ0FBMEJDLFdBQTRCLEVBQVU7RUFDakcsSUFBTUMsVUFBVSxHQUNkRCxXQUFXLENBQUNFLFlBQVksSUFDeEJGLFdBQVcsQ0FBQ0UsWUFBWSxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQyxVQUFBQyxJQUFJO0lBQUEsT0FBSUEsSUFBSSxDQUFDQyxNQUFNLEtBQUtOLFdBQVcsQ0FBQ00sTUFBTTtFQUFBLEVBQUMsQ0FBQ0MsTUFBTTtFQUUxRixJQUFJLENBQUNOLFVBQVUsSUFBSUEsVUFBVSxJQUFJLENBQUMsRUFBRTtJQUNsQ08sYUFBTSxDQUFDQyxHQUFHLENBQUMsbUJBQW1CVCxXQUFXLENBQUNVLEVBQUUsa0NBQWtDLENBQUM7SUFDL0VWLFdBQVcsQ0FBQ1csT0FBTyxHQUFHLEtBQUs7O0FBRS9CLENBQUM7QUFBQ0MsT0FBQSxDQUFBYixzQkFBQSxHQUFBQSxzQkFBQSJ9