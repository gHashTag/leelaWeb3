e71ff08e318c4773abdfadcab0f4651b
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseHermesStackFrameFunctionName = parseHermesStackFrameFunctionName;
exports.startProfiling = startProfiling;
exports.stopProfiling = stopProfiling;
var _wrapper = require("../wrapper");
var _convertHermesProfile = require("./convertHermesProfile");
function parseHermesStackFrameFunctionName(hermesName) {
  var indexOfLeftParenthesis = hermesName.indexOf('(');
  var name = indexOfLeftParenthesis !== -1 ? hermesName.substring(0, indexOfLeftParenthesis) : hermesName;
  return name;
}
var MS_TO_NS = 1e6;
function startProfiling() {
  var started = _wrapper.NATIVE.startProfiling();
  if (!started) {
    return null;
  }
  var profileStartTimestampNs = Date.now() * MS_TO_NS;
  return profileStartTimestampNs;
}
function stopProfiling() {
  var hermesProfile = _wrapper.NATIVE.stopProfiling();
  if (!hermesProfile) {
    return null;
  }
  return (0, _convertHermesProfile.convertToSentryProfile)(hermesProfile);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd3JhcHBlciIsInJlcXVpcmUiLCJfY29udmVydEhlcm1lc1Byb2ZpbGUiLCJwYXJzZUhlcm1lc1N0YWNrRnJhbWVGdW5jdGlvbk5hbWUiLCJoZXJtZXNOYW1lIiwiaW5kZXhPZkxlZnRQYXJlbnRoZXNpcyIsImluZGV4T2YiLCJuYW1lIiwic3Vic3RyaW5nIiwiTVNfVE9fTlMiLCJzdGFydFByb2ZpbGluZyIsInN0YXJ0ZWQiLCJOQVRJVkUiLCJwcm9maWxlU3RhcnRUaW1lc3RhbXBOcyIsIkRhdGUiLCJub3ciLCJzdG9wUHJvZmlsaW5nIiwiaGVybWVzUHJvZmlsZSIsImNvbnZlcnRUb1NlbnRyeVByb2ZpbGUiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvanMvcHJvZmlsaW5nL2hlcm1lcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOQVRJVkUgfSBmcm9tICcuLi93cmFwcGVyJztcbmltcG9ydCB7IGNvbnZlcnRUb1NlbnRyeVByb2ZpbGUgfSBmcm9tICcuL2NvbnZlcnRIZXJtZXNQcm9maWxlJztcbmltcG9ydCB0eXBlIHsgUmF3VGhyZWFkQ3B1UHJvZmlsZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBTdGFja0ZyYW1lSWQgPSBudW1iZXI7XG5leHBvcnQgdHlwZSBNaWNyb3NlY29uZHNTaW5jZUJvb3QgPSBzdHJpbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2VFdmVudCB7XG4gIG5hbWU6IHN0cmluZztcbiAgcGg6IHN0cmluZztcbiAgY2F0OiBzdHJpbmc7XG4gIHBpZDogbnVtYmVyO1xuICB0czogTWljcm9zZWNvbmRzU2luY2VCb290O1xuICB0aWQ6IHN0cmluZztcbiAgYXJnczoge1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FtcGxlIHtcbiAgY3B1OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHM6IE1pY3Jvc2Vjb25kc1NpbmNlQm9vdDtcbiAgcGlkOiBudW1iZXI7XG4gIHRpZDogc3RyaW5nO1xuICB3ZWlnaHQ6IHN0cmluZztcbiAgc2Y6IFN0YWNrRnJhbWVJZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGFja0ZyYW1lIHtcbiAgbGluZT86IHN0cmluZztcbiAgY29sdW1uPzogc3RyaW5nO1xuICBmdW5jTGluZT86IHN0cmluZztcbiAgZnVuY0NvbHVtbj86IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBwYXJlbnQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZmlsZSB7XG4gIHRyYWNlRXZlbnRzOiBUcmFjZUV2ZW50W107XG4gIHNhbXBsZXM6IFNhbXBsZVtdO1xuICBzdGFja0ZyYW1lczogUmVjb3JkPHN0cmluZywgU3RhY2tGcmFtZT47XG59XG5cbi8qKlxuICogSGVybWVzIFByb2ZpbGUgU3RhY2sgRnJhbWUgTmFtZSBjb250YWlucyBmdW5jdGlvbiBuYW1lIGFuZCBmaWxlIHBhdGguXG4gKlxuICogYGZvbygvcGF0aC90by9maWxlLmpzOjE6MilgIC0+IGBmb29gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUhlcm1lc1N0YWNrRnJhbWVGdW5jdGlvbk5hbWUoaGVybWVzTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgaW5kZXhPZkxlZnRQYXJlbnRoZXNpcyA9IGhlcm1lc05hbWUuaW5kZXhPZignKCcpO1xuICBjb25zdCBuYW1lID0gaW5kZXhPZkxlZnRQYXJlbnRoZXNpcyAhPT0gLTEgPyBoZXJtZXNOYW1lLnN1YnN0cmluZygwLCBpbmRleE9mTGVmdFBhcmVudGhlc2lzKSA6IGhlcm1lc05hbWU7XG4gIHJldHVybiBuYW1lO1xufVxuXG5jb25zdCBNU19UT19OUzogbnVtYmVyID0gMWU2O1xuXG4vKipcbiAqIFN0YXJ0cyBIZXJtZXMgU2FtcGxpbmcgUHJvZmlsZXIgYW5kIHJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHByb2ZpbGluZyBzdGFydGVkIGluIG5hbm9zZWNvbmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRQcm9maWxpbmcoKTogbnVtYmVyIHwgbnVsbCB7XG4gIGNvbnN0IHN0YXJ0ZWQgPSBOQVRJVkUuc3RhcnRQcm9maWxpbmcoKTtcbiAgaWYgKCFzdGFydGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwcm9maWxlU3RhcnRUaW1lc3RhbXBOcyA9IERhdGUubm93KCkgKiBNU19UT19OUztcbiAgcmV0dXJuIHByb2ZpbGVTdGFydFRpbWVzdGFtcE5zO1xufVxuXG4vKipcbiAqIFN0b3BzIEhlcm1lcyBTYW1wbGluZyBQcm9maWxlciBhbmQgcmV0dXJucyB0aGUgcHJvZmlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQcm9maWxpbmcoKTogUmF3VGhyZWFkQ3B1UHJvZmlsZSB8IG51bGwge1xuICBjb25zdCBoZXJtZXNQcm9maWxlID0gTkFUSVZFLnN0b3BQcm9maWxpbmcoKTtcbiAgaWYgKCFoZXJtZXNQcm9maWxlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNvbnZlcnRUb1NlbnRyeVByb2ZpbGUoaGVybWVzUHJvZmlsZSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLHFCQUFBLEdBQUFELE9BQUE7QUFpRE0sU0FBVUUsaUNBQWlDQSxDQUFDQyxVQUFrQjtFQUNsRSxJQUFNQyxzQkFBc0IsR0FBR0QsVUFBVSxDQUFDRSxPQUFPLENBQUMsR0FBRyxDQUFDO0VBQ3RELElBQU1DLElBQUksR0FBR0Ysc0JBQXNCLEtBQUssQ0FBQyxDQUFDLEdBQUdELFVBQVUsQ0FBQ0ksU0FBUyxDQUFDLENBQUMsRUFBRUgsc0JBQXNCLENBQUMsR0FBR0QsVUFBVTtFQUN6RyxPQUFPRyxJQUFJO0FBQ2I7QUFFQSxJQUFNRSxRQUFRLEdBQVcsR0FBRztBQUt0QixTQUFVQyxjQUFjQSxDQUFBO0VBQzVCLElBQU1DLE9BQU8sR0FBR0MsZUFBTSxDQUFDRixjQUFjLEVBQUU7RUFDdkMsSUFBSSxDQUFDQyxPQUFPLEVBQUU7SUFDWixPQUFPLElBQUk7O0VBR2IsSUFBTUUsdUJBQXVCLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxFQUFFLEdBQUdOLFFBQVE7RUFDckQsT0FBT0ksdUJBQXVCO0FBQ2hDO0FBS00sU0FBVUcsYUFBYUEsQ0FBQTtFQUMzQixJQUFNQyxhQUFhLEdBQUdMLGVBQU0sQ0FBQ0ksYUFBYSxFQUFFO0VBQzVDLElBQUksQ0FBQ0MsYUFBYSxFQUFFO0lBQ2xCLE9BQU8sSUFBSTs7RUFFYixPQUFPLElBQUFDLDRDQUFzQixFQUFDRCxhQUFhLENBQUM7QUFDOUMifQ==