{"version":3,"names":["_react","_interopRequireDefault","require","_types","_reactNative","_helpers","_InnerShadowART","_OuterShadowART","_jsxRuntime","_jsxFileName","_excluded","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","e","Neomorph","_React$PureComponent","_inherits2","_super","_classCallCheck2","_createClass2","key","value","render","_this","_this$props","props","style","inner","useArt","children","darkShadowColor","lightShadowColor","swapShadows","otherProps","_objectWithoutProperties2","_transformStyleProps","transformStyleProps","outsideViewStyle","insideViewStyle","_transformStyleProps$","allShadowProps","width","height","borderRadius","backgroundColor","shadowOpacity","shadowOffset","shadowRadius","opacity","shOpacityLight","shOpacityDark","brightnessToOpacity","brightness","calcOpacityFromRange","styleAll","viewStyle","_shadowOffset","x","y","styleDark","Object","assign","shadowColor","styleLight","bubble","renderOuter","Platform","OS","jsxs","View","pointerEvents","jsx","_this$props$style","shadowOffsetDark","shadowOffsetLight","shadowRadiusOuter","Fragment","position","styles","containerInnerLayers","React","PureComponent","exports","StyleSheet","create","overflow","defaultProps","propTypes","NeomorphType"],"sources":["Neomorph.js"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React from 'react';\nimport { NeomorphType } from './types';\nimport { StyleSheet, View, Platform } from 'react-native';\nimport {\n  transformStyleProps,\n  brightnessToOpacity,\n  brightness,\n  calcOpacityFromRange,\n} from './helpers';\nimport InnerShadowART from './InnerShadowART';\nimport OuterShadowART from './OuterShadowART';\n\nexport default class Neomorph extends React.PureComponent {\n  render() {\n    const {\n      style,\n      inner,\n      useArt,\n      children,\n      darkShadowColor,\n      lightShadowColor,\n      swapShadows,\n      ...otherProps\n    } = this.props;\n    let {\n      outsideViewStyle,\n      insideViewStyle,\n      allShadowProps: {\n        width,\n        height,\n        borderRadius,\n        backgroundColor,\n        shadowOpacity,\n        shadowOffset,\n        shadowRadius,\n      },\n    } = transformStyleProps(style, true);\n\n    let opacity, shOpacityLight, shOpacityDark;\n    if (shadowOpacity) {\n      shOpacityLight = shadowOpacity;\n      shOpacityDark = shadowOpacity;\n    } else {\n      opacity = brightnessToOpacity(brightness(backgroundColor));\n      shOpacityLight = calcOpacityFromRange(opacity, 0.025, 1);\n      shOpacityDark = calcOpacityFromRange(1 - opacity, 0, 0.35);\n    }\n    const styleAll = {\n      backgroundColor,\n      shadowRadius,\n      borderRadius,\n      width,\n      height,\n    };\n\n    const viewStyle = {\n      borderRadius,\n      width,\n      height,\n    };\n\n    let _shadowOffset = { x: shadowRadius / 2, y: shadowRadius / 2 };\n    if (shadowOffset.x !== 0 || shadowOffset.y !== 0) {\n      _shadowOffset = {\n        x: shadowOffset.x || 0,\n        y: shadowOffset.y || 0,\n      };\n    }\n\n    let styleDark = {\n      ...styleAll,\n      shadowOffset: _shadowOffset,\n      shadowOpacity: shadowRadius ? shOpacityDark : 0,\n      shadowColor: darkShadowColor || 'black',\n    };\n\n    let styleLight = {\n      ...styleAll,\n      shadowOffset: {\n        x: -_shadowOffset.x,\n        y: -_shadowOffset.y,\n      },\n      shadowOpacity: shadowRadius ? shOpacityLight : 0,\n      shadowColor: lightShadowColor || 'white',\n    };\n\n    if (swapShadows) {\n      let bubble = { ...styleLight };\n      styleLight = { ...styleDark };\n      styleDark = bubble;\n    }\n\n    const renderOuter = () => {\n      if (useArt || Platform.OS !== 'ios') {\n        return (\n          <View pointerEvents={'none'}>\n            <OuterShadowART {...styleDark} />\n            <OuterShadowART {...styleLight} />\n          </View>\n        );\n      } else {\n        const shadowOffsetDark = {\n          width: styleDark.shadowOffset.x,\n          height: styleDark.shadowOffset.y,\n        };\n        const shadowOffsetLight = {\n          width: styleLight.shadowOffset.x,\n          height: styleLight.shadowOffset.y,\n        };\n        const shadowRadiusOuter = this.props.style?.shadowRadius;\n        return (\n          <>\n            <View\n              style={[\n                styleDark,\n                {\n                  position: 'absolute',\n                  shadowRadius: shadowRadiusOuter,\n                  shadowOffset: shadowOffsetDark,\n                },\n              ]}\n            />\n            <View\n              style={[\n                styleLight,\n                {\n                  position: 'absolute',\n                  shadowRadius: shadowRadiusOuter,\n                  shadowOffset: shadowOffsetLight,\n                },\n              ]}\n            />\n          </>\n        );\n      }\n    };\n\n    if (inner) {\n      return (\n        <View\n          style={{\n            backgroundColor,\n            ...viewStyle,\n            ...outsideViewStyle,\n          }}\n          {...otherProps}>\n          <View style={[styles.containerInnerLayers, viewStyle]}>\n            <InnerShadowART {...styleDark} />\n            <InnerShadowART {...styleLight} />\n          </View>\n          <View style={{ ...viewStyle, ...insideViewStyle }}>{children}</View>\n        </View>\n      );\n    } else {\n      return (\n        <View style={{ ...viewStyle, ...outsideViewStyle }} {...otherProps}>\n          {renderOuter()}\n          <View\n            style={{\n              backgroundColor,\n              ...viewStyle,\n              ...insideViewStyle,\n            }}>\n            {children}\n          </View>\n        </View>\n      );\n    }\n  }\n}\n\nconst styles = StyleSheet.create({\n  containerInnerLayers: {\n    overflow: 'hidden',\n    position: 'absolute',\n  },\n});\n\nNeomorph.defaultProps = {\n  inner: false,\n  useArt: false,\n  darkShadowColor: 'black',\n  lightShadowColor: 'white',\n  swapShadows: false,\n};\nNeomorph.propTypes = NeomorphType;\n"],"mappings":"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"}