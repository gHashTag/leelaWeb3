{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativeFitImage","_openUrl","_hasParents","_textStyleProps","_jsxRuntime","_this","_jsxFileName","renderRules","unknown","node","children","parent","styles","body","jsx","View","style","_VIEW_SAFE_body","key","heading1","_VIEW_SAFE_heading1","heading2","_VIEW_SAFE_heading2","heading3","_VIEW_SAFE_heading3","heading4","_VIEW_SAFE_heading4","heading5","_VIEW_SAFE_heading5","heading6","_VIEW_SAFE_heading6","hr","_VIEW_SAFE_hr","strong","Text","em","s","blockquote","_VIEW_SAFE_blockquote","bullet_list","_VIEW_SAFE_bullet_list","ordered_list","_VIEW_SAFE_ordered_list","list_item","inheritedStyles","arguments","length","undefined","refStyle","Object","assign","StyleSheet","flatten","arr","keys","modifiedInheritedStylesObj","b","textStyleProps","includes","hasParents","jsxs","_VIEW_SAFE_list_item","bullet_list_icon","accessible","Platform","select","android","ios","default","_VIEW_SAFE_bullet_list_content","orderedListIndex","findIndex","el","type","orderedList","listItemNumber","attributes","start","index","ordered_list_icon","markup","_VIEW_SAFE_ordered_list_content","code_inline","content","code_block","charAt","substring","fence","table","_VIEW_SAFE_table","thead","_VIEW_SAFE_thead","tbody","_VIEW_SAFE_tbody","th","_VIEW_SAFE_th","tr","_VIEW_SAFE_tr","td","_VIEW_SAFE_td","link","onLinkPress","onPress","openUrl","href","blocklink","TouchableWithoutFeedback","image","allowedImageHandlers","defaultImageHandler","_node$attributes","src","alt","show","filter","value","toLowerCase","startsWith","imageProps","indicator","_VIEW_SAFE_image","source","uri","accessibilityLabel","text","textgroup","paragraph","_VIEW_SAFE_paragraph","hardbreak","softbreak","pre","_VIEW_SAFE_pre","inline","span","_default","exports"],"sources":["renderRules.js"],"sourcesContent":["import React from 'react';\nimport {\n  Text,\n  TouchableWithoutFeedback,\n  View,\n  Platform,\n  StyleSheet,\n} from 'react-native';\nimport FitImage from 'react-native-fit-image';\n\nimport openUrl from './util/openUrl';\nimport hasParents from './util/hasParents';\n\nimport textStyleProps from './data/textStyleProps';\n\nconst renderRules = {\n  // when unknown elements are introduced, so it wont break\n  unknown: (node, children, parent, styles) => null,\n\n  // The main container\n  body: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_body}>\n      {children}\n    </View>\n  ),\n\n  // Headings\n  heading1: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_heading1}>\n      {children}\n    </View>\n  ),\n  heading2: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_heading2}>\n      {children}\n    </View>\n  ),\n  heading3: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_heading3}>\n      {children}\n    </View>\n  ),\n  heading4: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_heading4}>\n      {children}\n    </View>\n  ),\n  heading5: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_heading5}>\n      {children}\n    </View>\n  ),\n  heading6: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_heading6}>\n      {children}\n    </View>\n  ),\n\n  // Horizontal Rule\n  hr: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_hr} />\n  ),\n\n  // Emphasis\n  strong: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.strong}>\n      {children}\n    </Text>\n  ),\n  em: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.em}>\n      {children}\n    </Text>\n  ),\n  s: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.s}>\n      {children}\n    </Text>\n  ),\n\n  // Blockquotes\n  blockquote: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_blockquote}>\n      {children}\n    </View>\n  ),\n\n  // Lists\n  bullet_list: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_bullet_list}>\n      {children}\n    </View>\n  ),\n  ordered_list: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_ordered_list}>\n      {children}\n    </View>\n  ),\n  // this is a unique and quite annoying render rule because it has\n  // child items that can be styled (the list icon and the list content)\n  // outside of the AST tree so there are some work arounds in the\n  // AST renderer specifically to get the styling right here\n  list_item: (node, children, parent, styles, inheritedStyles = {}) => {\n    // we need to grab any text specific stuff here that is applied on the list_item style\n    // and apply it onto bullet_list_icon. the AST renderer has some workaround code to make\n    // the content classes apply correctly to the child AST tree items as well\n    // as code that forces the creation of the inheritedStyles object for list_items\n    const refStyle = {\n      ...inheritedStyles,\n      ...StyleSheet.flatten(styles.list_item),\n    };\n\n    const arr = Object.keys(refStyle);\n\n    const modifiedInheritedStylesObj = {};\n\n    for (let b = 0; b < arr.length; b++) {\n      if (textStyleProps.includes(arr[b])) {\n        modifiedInheritedStylesObj[arr[b]] = refStyle[arr[b]];\n      }\n    }\n\n    if (hasParents(parent, 'bullet_list')) {\n      return (\n        <View key={node.key} style={styles._VIEW_SAFE_list_item}>\n          <Text\n            style={[modifiedInheritedStylesObj, styles.bullet_list_icon]}\n            accessible={false}>\n            {Platform.select({\n              android: '\\u2022',\n              ios: '\\u00B7',\n              default: '\\u2022',\n            })}\n          </Text>\n          <View style={styles._VIEW_SAFE_bullet_list_content}>{children}</View>\n        </View>\n      );\n    }\n\n    if (hasParents(parent, 'ordered_list')) {\n      const orderedListIndex = parent.findIndex(\n        (el) => el.type === 'ordered_list',\n      );\n\n      const orderedList = parent[orderedListIndex];\n      let listItemNumber;\n\n      if (orderedList.attributes && orderedList.attributes.start) {\n        listItemNumber = orderedList.attributes.start + node.index;\n      } else {\n        listItemNumber = node.index + 1;\n      }\n\n      return (\n        <View key={node.key} style={styles._VIEW_SAFE_list_item}>\n          <Text style={[modifiedInheritedStylesObj, styles.ordered_list_icon]}>\n            {listItemNumber}\n            {node.markup}\n          </Text>\n          <View style={styles._VIEW_SAFE_ordered_list_content}>{children}</View>\n        </View>\n      );\n    }\n\n    // we should not need this, but just in case\n    return (\n      <View key={node.key} style={styles._VIEW_SAFE_list_item}>\n        {children}\n      </View>\n    );\n  },\n\n  // Code\n  code_inline: (node, children, parent, styles, inheritedStyles = {}) => (\n    <Text key={node.key} style={[inheritedStyles, styles.code_inline]}>\n      {node.content}\n    </Text>\n  ),\n  code_block: (node, children, parent, styles, inheritedStyles = {}) => {\n    // we trim new lines off the end of code blocks because the parser sends an extra one.\n    let {content} = node;\n\n    if (\n      typeof node.content === 'string' &&\n      node.content.charAt(node.content.length - 1) === '\\n'\n    ) {\n      content = node.content.substring(0, node.content.length - 1);\n    }\n\n    return (\n      <Text key={node.key} style={[inheritedStyles, styles.code_block]}>\n        {content}\n      </Text>\n    );\n  },\n  fence: (node, children, parent, styles, inheritedStyles = {}) => {\n    // we trim new lines off the end of code blocks because the parser sends an extra one.\n    let {content} = node;\n\n    if (\n      typeof node.content === 'string' &&\n      node.content.charAt(node.content.length - 1) === '\\n'\n    ) {\n      content = node.content.substring(0, node.content.length - 1);\n    }\n\n    return (\n      <Text key={node.key} style={[inheritedStyles, styles.fence]}>\n        {content}\n      </Text>\n    );\n  },\n\n  // Tables\n  table: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_table}>\n      {children}\n    </View>\n  ),\n  thead: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_thead}>\n      {children}\n    </View>\n  ),\n  tbody: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_tbody}>\n      {children}\n    </View>\n  ),\n  th: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_th}>\n      {children}\n    </View>\n  ),\n  tr: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_tr}>\n      {children}\n    </View>\n  ),\n  td: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_td}>\n      {children}\n    </View>\n  ),\n\n  // Links\n  link: (node, children, parent, styles, onLinkPress) => (\n    <Text\n      key={node.key}\n      style={styles.link}\n      onPress={() => openUrl(node.attributes.href, onLinkPress)}>\n      {children}\n    </Text>\n  ),\n  blocklink: (node, children, parent, styles, onLinkPress) => (\n    <TouchableWithoutFeedback\n      key={node.key}\n      onPress={() => openUrl(node.attributes.href, onLinkPress)}\n      style={styles.blocklink}>\n      <View style={styles.image}>{children}</View>\n    </TouchableWithoutFeedback>\n  ),\n\n  // Images\n  image: (\n    node,\n    children,\n    parent,\n    styles,\n    allowedImageHandlers,\n    defaultImageHandler,\n  ) => {\n    const {src, alt} = node.attributes;\n\n    // we check that the source starts with at least one of the elements in allowedImageHandlers\n    const show =\n      allowedImageHandlers.filter((value) => {\n        return src.toLowerCase().startsWith(value.toLowerCase());\n      }).length > 0;\n\n    if (show === false && defaultImageHandler === null) {\n      return null;\n    }\n\n    const imageProps = {\n      indicator: true,\n      key: node.key,\n      style: styles._VIEW_SAFE_image,\n      source: {\n        uri: show === true ? src : `${defaultImageHandler}${src}`,\n      },\n    };\n\n    if (alt) {\n      imageProps.accessible = true;\n      imageProps.accessibilityLabel = alt;\n    }\n\n    return <FitImage {...imageProps} />;\n  },\n\n  // Text Output\n  text: (node, children, parent, styles, inheritedStyles = {}) => (\n    <Text key={node.key} style={[inheritedStyles, styles.text]}>\n      {node.content}\n    </Text>\n  ),\n  textgroup: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.textgroup}>\n      {children}\n    </Text>\n  ),\n  paragraph: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_paragraph}>\n      {children}\n    </View>\n  ),\n  hardbreak: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.hardbreak}>\n      {'\\n'}\n    </Text>\n  ),\n  softbreak: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.softbreak}>\n      {'\\n'}\n    </Text>\n  ),\n\n  // Believe these are never used but retained for completeness\n  pre: (node, children, parent, styles) => (\n    <View key={node.key} style={styles._VIEW_SAFE_pre}>\n      {children}\n    </View>\n  ),\n  inline: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.inline}>\n      {children}\n    </Text>\n  ),\n  span: (node, children, parent, styles) => (\n    <Text key={node.key} style={styles.span}>\n      {children}\n    </Text>\n  ),\n};\n\nexport default renderRules;\n"],"mappings":"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"}