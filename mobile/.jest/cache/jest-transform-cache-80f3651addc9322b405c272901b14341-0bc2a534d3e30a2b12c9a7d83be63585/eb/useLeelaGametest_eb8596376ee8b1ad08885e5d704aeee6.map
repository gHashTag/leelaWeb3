{"version":3,"names":["_getJestObj","mock","mockAsyncStorage","_interopRequireDefault","require","_asyncToGenerator2","_require","jest","react_hooks_1","mock_async_storage_1","__importDefault","useLeelaGame_1","default","describe","beforeEach","clear","it","initialState","currentPlayer","id","plan","previousPlan","isStart","isFinished","consecutiveSixes","message","positionBeforeThreeSixes","avatar","lastRoll","rollHistory","planHistory","setItem","JSON","stringify","_ref2","renderHook","useLeelaGame","result","waitForNextUpdate","act","current","rollDice","expect","toEqual"],"sources":["/Users/playra/LeelaAiWeb3/src/hooks/useLeelaGame/useLeelaGame.test.tsx"],"sourcesContent":["import { renderHook, act } from '@testing-library/react-hooks'\n// @ts-ignore\nimport MockAsyncStorage from 'mock-async-storage'\n\nimport { useLeelaGame } from './useLeelaGame'\n\nconst mockAsyncStorage = new MockAsyncStorage()\njest.mock('@react-native-async-storage/async-storage', () => mockAsyncStorage)\n\ndescribe('useLeelaGame', () => {\n  beforeEach(() => {\n    mockAsyncStorage.clear()\n  })\n\n  it('should initialize state correctly', async () => {\n    const initialState = {\n      currentPlayer: {\n        id: 1,\n        plan: 68,\n        previousPlan: 68,\n        isStart: false,\n        isFinished: false,\n        consecutiveSixes: 0,\n        message: 'sixToBegin',\n        positionBeforeThreeSixes: 0,\n        avatar: 'avatar.png',\n      },\n      lastRoll: 1,\n      rollHistory: [],\n      planHistory: [68],\n    }\n\n    // Mock AsyncStorage.getItem\n    mockAsyncStorage.setItem('leelaGameState', JSON.stringify(initialState))\n\n    const { result, waitForNextUpdate } = renderHook(() => useLeelaGame())\n\n    // Call the function that triggers state change\n    act(() => {\n      result.current.rollDice()\n    })\n\n    // Wait for the next update\n    await waitForNextUpdate()\n\n    expect(result.current.currentPlayer).toEqual(initialState.currentPlayer)\n    expect(result.current.rollHistory).toEqual(initialState.rollHistory)\n    expect(result.current.planHistory).toEqual(initialState.planHistory)\n  })\n\n  // Test other scenarios similarly\n})\n"],"mappings":";;AAOAA,WAAA,GAAKC,IAAI,CAAC,2CAA2C,EAAE;EAAA,OAAMC,gBAAgB;AAAA,EAAC;AAAA,IAAAC,sBAAA,GAAAC,OAAA;AAAA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAA,SAAAJ,YAAA;EAAA,IAAAM,QAAA,GAAAF,OAAA;IAAAG,IAAA,GAAAD,QAAA,CAAAC,IAAA;EAAAP,WAAA,YAAAA,YAAA;IAAA,OAAAO,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;;;;;;;;;AAP9E,IAAAC,aAAA,GAAAJ,OAAA;AAEA,IAAAK,oBAAA,GAAAC,eAAA,CAAAN,OAAA;AAEA,IAAAO,cAAA,GAAAP,OAAA;AAEA,IAAMF,gBAAgB,GAAG,IAAIO,oBAAA,CAAAG,OAAgB,EAAE;AAG/CC,QAAQ,CAAC,cAAc,EAAE,YAAK;EAC5BC,UAAU,CAAC,YAAK;IACdZ,gBAAgB,CAACa,KAAK,EAAE;EAC1B,CAAC,CAAC;EAEFC,EAAE,CAAC,mCAAmC,MAAAX,kBAAA,CAAAO,OAAA,EAAE,aAAW;IACjD,IAAMK,YAAY,GAAG;MACnBC,aAAa,EAAE;QACbC,EAAE,EAAE,CAAC;QACLC,IAAI,EAAE,EAAE;QACRC,YAAY,EAAE,EAAE;QAChBC,OAAO,EAAE,KAAK;QACdC,UAAU,EAAE,KAAK;QACjBC,gBAAgB,EAAE,CAAC;QACnBC,OAAO,EAAE,YAAY;QACrBC,wBAAwB,EAAE,CAAC;QAC3BC,MAAM,EAAE;OACT;MACDC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,CAAC,EAAE;KACjB;IAGD5B,gBAAgB,CAAC6B,OAAO,CAAC,gBAAgB,EAAEC,IAAI,CAACC,SAAS,CAAChB,YAAY,CAAC,CAAC;IAExE,IAAAiB,KAAA,GAAsC,IAAA1B,aAAA,CAAA2B,UAAU,EAAC;QAAA,OAAM,IAAAxB,cAAA,CAAAyB,YAAY,GAAE;MAAA,EAAC;MAA9DC,MAAM,GAAAH,KAAA,CAANG,MAAM;MAAEC,iBAAiB,GAAAJ,KAAA,CAAjBI,iBAAiB;IAGjC,IAAA9B,aAAA,CAAA+B,GAAG,EAAC,YAAK;MACPF,MAAM,CAACG,OAAO,CAACC,QAAQ,EAAE;IAC3B,CAAC,CAAC;IAGF,MAAMH,iBAAiB,EAAE;IAEzBI,MAAM,CAACL,MAAM,CAACG,OAAO,CAACtB,aAAa,CAAC,CAACyB,OAAO,CAAC1B,YAAY,CAACC,aAAa,CAAC;IACxEwB,MAAM,CAACL,MAAM,CAACG,OAAO,CAACX,WAAW,CAAC,CAACc,OAAO,CAAC1B,YAAY,CAACY,WAAW,CAAC;IACpEa,MAAM,CAACL,MAAM,CAACG,OAAO,CAACV,WAAW,CAAC,CAACa,OAAO,CAAC1B,YAAY,CAACa,WAAW,CAAC;EACtE,CAAC,EAAC;AAGJ,CAAC,CAAC"}