563cd74c70a659e335205008220d0e4a
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = parser;
var _tokensToAST = _interopRequireDefault(require("./util/tokensToAST"));
var _stringToTokens = require("./util/stringToTokens");
var _cleanupTokens = require("./util/cleanupTokens");
var _groupTextTokens = _interopRequireDefault(require("./util/groupTextTokens"));
var _omitListItemParagraph = _interopRequireDefault(require("./util/omitListItemParagraph"));
function parser(source, renderer, markdownIt) {
  if (Array.isArray(source)) {
    return renderer(source);
  }
  var tokens = (0, _stringToTokens.stringToTokens)(source, markdownIt);
  tokens = (0, _cleanupTokens.cleanupTokens)(tokens);
  tokens = (0, _groupTextTokens.default)(tokens);
  tokens = (0, _omitListItemParagraph.default)(tokens);
  var astTree = (0, _tokensToAST.default)(tokens);
  return renderer(astTree);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW5zVG9BU1QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9zdHJpbmdUb1Rva2VucyIsIl9jbGVhbnVwVG9rZW5zIiwiX2dyb3VwVGV4dFRva2VucyIsIl9vbWl0TGlzdEl0ZW1QYXJhZ3JhcGgiLCJwYXJzZXIiLCJzb3VyY2UiLCJyZW5kZXJlciIsIm1hcmtkb3duSXQiLCJBcnJheSIsImlzQXJyYXkiLCJ0b2tlbnMiLCJzdHJpbmdUb1Rva2VucyIsImNsZWFudXBUb2tlbnMiLCJncm91cFRleHRUb2tlbnMiLCJvbWl0TGlzdEl0ZW1QYXJhZ3JhcGgiLCJhc3RUcmVlIiwidG9rZW5zVG9BU1QiXSwic291cmNlcyI6WyJwYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRva2Vuc1RvQVNUIGZyb20gJy4vdXRpbC90b2tlbnNUb0FTVCc7XG5pbXBvcnQge3N0cmluZ1RvVG9rZW5zfSBmcm9tICcuL3V0aWwvc3RyaW5nVG9Ub2tlbnMnO1xuaW1wb3J0IHtjbGVhbnVwVG9rZW5zfSBmcm9tICcuL3V0aWwvY2xlYW51cFRva2Vucyc7XG5pbXBvcnQgZ3JvdXBUZXh0VG9rZW5zIGZyb20gJy4vdXRpbC9ncm91cFRleHRUb2tlbnMnO1xuaW1wb3J0IG9taXRMaXN0SXRlbVBhcmFncmFwaCBmcm9tICcuL3V0aWwvb21pdExpc3RJdGVtUGFyYWdyYXBoJztcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gW3JlbmRlcmVyXVxuICogQHBhcmFtIHtBc3RSZW5kZXJlcn0gW21hcmtkb3duSXRdXG4gKiBAcmV0dXJuIHtWaWV3fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZXIoc291cmNlLCByZW5kZXJlciwgbWFya2Rvd25JdCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHJlbmRlcmVyKHNvdXJjZSk7XG4gIH1cblxuICBsZXQgdG9rZW5zID0gc3RyaW5nVG9Ub2tlbnMoc291cmNlLCBtYXJrZG93bkl0KTtcbiAgdG9rZW5zID0gY2xlYW51cFRva2Vucyh0b2tlbnMpO1xuICB0b2tlbnMgPSBncm91cFRleHRUb2tlbnModG9rZW5zKTtcbiAgdG9rZW5zID0gb21pdExpc3RJdGVtUGFyYWdyYXBoKHRva2Vucyk7XG5cbiAgY29uc3QgYXN0VHJlZSA9IHRva2Vuc1RvQVNUKHRva2Vucyk7XG5cbiAgcmV0dXJuIHJlbmRlcmVyKGFzdFRyZWUpO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUFBLFlBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGNBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGdCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxzQkFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBU2UsU0FBU0ssTUFBTUEsQ0FBQ0MsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBRTtFQUMzRCxJQUFJQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0osTUFBTSxDQUFDLEVBQUU7SUFDekIsT0FBT0MsUUFBUSxDQUFDRCxNQUFNLENBQUM7RUFDekI7RUFFQSxJQUFJSyxNQUFNLEdBQUcsSUFBQUMsOEJBQWMsRUFBQ04sTUFBTSxFQUFFRSxVQUFVLENBQUM7RUFDL0NHLE1BQU0sR0FBRyxJQUFBRSw0QkFBYSxFQUFDRixNQUFNLENBQUM7RUFDOUJBLE1BQU0sR0FBRyxJQUFBRyx3QkFBZSxFQUFDSCxNQUFNLENBQUM7RUFDaENBLE1BQU0sR0FBRyxJQUFBSSw4QkFBcUIsRUFBQ0osTUFBTSxDQUFDO0VBRXRDLElBQU1LLE9BQU8sR0FBRyxJQUFBQyxvQkFBVyxFQUFDTixNQUFNLENBQUM7RUFFbkMsT0FBT0osUUFBUSxDQUFDUyxPQUFPLENBQUM7QUFDMUIifQ==