d429779bbc3fde092b9871eca7b32b41
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = omitListItemParagraph;
function omitListItemParagraph(tokens) {
  var depth = null;
  return tokens.filter(function (token, index) {
    if (depth !== null) {
      depth = depth + token.nesting;
    }
    if (token.type === 'list_item' && token.nesting === 1 && depth === null) {
      var next = index + 1 in tokens ? tokens[index + 1] : null;
      if (next && next.type === 'paragraph' && next.nesting === 1) {
        depth = 0;
        return true;
      }
    } else if (token.type === 'paragraph') {
      if (token.nesting === 1 && depth === 1) {
        return false;
      } else if (token.nesting === -1 && depth === 0) {
        depth = null;
        return false;
      }
    }
    return true;
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvbWl0TGlzdEl0ZW1QYXJhZ3JhcGgiLCJ0b2tlbnMiLCJkZXB0aCIsImZpbHRlciIsInRva2VuIiwiaW5kZXgiLCJuZXN0aW5nIiwidHlwZSIsIm5leHQiXSwic291cmNlcyI6WyJvbWl0TGlzdEl0ZW1QYXJhZ3JhcGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb21pdExpc3RJdGVtUGFyYWdyYXBoKHRva2Vucykge1xuICAvLyB1c2VkIHRvIGVuc3VyZSB0aGF0IHdlIHJlbW92ZSB0aGUgY29ycmVjdCBlbmRpbmcgcGFyYWdyYXBoIHRva2VuXG4gIGxldCBkZXB0aCA9IG51bGw7XG4gIHJldHVybiB0b2tlbnMuZmlsdGVyKCh0b2tlbiwgaW5kZXgpID0+IHtcbiAgICAvLyB1cGRhdGUgZGVwdGggaWYgd2UndmUgYWxyZWFkeSByZW1vdmVkIGEgc3RhcnRpbmcgcGFyYWdyYXBoIHRva2VuXG4gICAgaWYgKGRlcHRoICE9PSBudWxsKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoICsgdG9rZW4ubmVzdGluZztcbiAgICB9XG5cbiAgICAvLyBjaGVjayBmb3IgYSBsaXN0X2l0ZW0gdG9rZW4gZm9sbG93ZWQgYnkgcGFyYWdyYXBoIHRva2VuICh0byByZW1vdmUpXG4gICAgaWYgKHRva2VuLnR5cGUgPT09ICdsaXN0X2l0ZW0nICYmIHRva2VuLm5lc3RpbmcgPT09IDEgJiYgZGVwdGggPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IG5leHQgPSBpbmRleCArIDEgaW4gdG9rZW5zID8gdG9rZW5zW2luZGV4ICsgMV0gOiBudWxsO1xuICAgICAgaWYgKG5leHQgJiYgbmV4dC50eXBlID09PSAncGFyYWdyYXBoJyAmJiBuZXh0Lm5lc3RpbmcgPT09IDEpIHtcbiAgICAgICAgZGVwdGggPSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICBpZiAodG9rZW4ubmVzdGluZyA9PT0gMSAmJiBkZXB0aCA9PT0gMSkge1xuICAgICAgICAvLyByZW1vdmUgdGhlIHBhcmFncmFwaCB0b2tlbiBpbW1lZGlhdGVseSBhZnRlciB0aGUgbGlzdF9pdGVtIHRva2VuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4ubmVzdGluZyA9PT0gLTEgJiYgZGVwdGggPT09IDApIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbmRpbmcgcGFyYWdyYXBoIHRva2VuOyByZXNldCBkZXB0aFxuICAgICAgICBkZXB0aCA9IG51bGw7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQWUsU0FBU0EscUJBQXFCQSxDQUFDQyxNQUFNLEVBQUU7RUFFcEQsSUFBSUMsS0FBSyxHQUFHLElBQUk7RUFDaEIsT0FBT0QsTUFBTSxDQUFDRSxNQUFNLENBQUMsVUFBQ0MsS0FBSyxFQUFFQyxLQUFLLEVBQUs7SUFFckMsSUFBSUgsS0FBSyxLQUFLLElBQUksRUFBRTtNQUNsQkEsS0FBSyxHQUFHQSxLQUFLLEdBQUdFLEtBQUssQ0FBQ0UsT0FBTztJQUMvQjtJQUdBLElBQUlGLEtBQUssQ0FBQ0csSUFBSSxLQUFLLFdBQVcsSUFBSUgsS0FBSyxDQUFDRSxPQUFPLEtBQUssQ0FBQyxJQUFJSixLQUFLLEtBQUssSUFBSSxFQUFFO01BQ3ZFLElBQU1NLElBQUksR0FBR0gsS0FBSyxHQUFHLENBQUMsSUFBSUosTUFBTSxHQUFHQSxNQUFNLENBQUNJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJO01BQzNELElBQUlHLElBQUksSUFBSUEsSUFBSSxDQUFDRCxJQUFJLEtBQUssV0FBVyxJQUFJQyxJQUFJLENBQUNGLE9BQU8sS0FBSyxDQUFDLEVBQUU7UUFDM0RKLEtBQUssR0FBRyxDQUFDO1FBQ1QsT0FBTyxJQUFJO01BQ2I7SUFDRixDQUFDLE1BQU0sSUFBSUUsS0FBSyxDQUFDRyxJQUFJLEtBQUssV0FBVyxFQUFFO01BQ3JDLElBQUlILEtBQUssQ0FBQ0UsT0FBTyxLQUFLLENBQUMsSUFBSUosS0FBSyxLQUFLLENBQUMsRUFBRTtRQUV0QyxPQUFPLEtBQUs7TUFDZCxDQUFDLE1BQU0sSUFBSUUsS0FBSyxDQUFDRSxPQUFPLEtBQUssQ0FBQyxDQUFDLElBQUlKLEtBQUssS0FBSyxDQUFDLEVBQUU7UUFFOUNBLEtBQUssR0FBRyxJQUFJO1FBQ1osT0FBTyxLQUFLO01BQ2Q7SUFDRjtJQUNBLE9BQU8sSUFBSTtFQUNiLENBQUMsQ0FBQztBQUNKIn0=