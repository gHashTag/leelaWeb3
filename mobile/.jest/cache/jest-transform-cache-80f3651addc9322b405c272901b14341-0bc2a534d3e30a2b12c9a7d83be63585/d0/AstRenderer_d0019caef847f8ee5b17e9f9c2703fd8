52a48c360b038435c6295f680ff36cc5
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _reactNative = require("react-native");
var _getUniqueID = _interopRequireDefault(require("./util/getUniqueID"));
var _convertAdditionalStyles = _interopRequireDefault(require("./util/convertAdditionalStyles"));
var _textStyleProps = _interopRequireDefault(require("./data/textStyleProps"));
var AstRenderer = (0, _createClass2.default)(function AstRenderer(renderRules, style, onLinkPress, maxTopLevelChildren, topLevelMaxExceededItem, allowedImageHandlers, defaultImageHandler, debugPrintTree) {
  var _this = this;
  (0, _classCallCheck2.default)(this, AstRenderer);
  this.getRenderFunction = function (type) {
    var renderFunction = _this._renderRules[type];
    if (!renderFunction) {
      console.warn(`Warning, unknown render rule encountered: ${type}. 'unknown' render rule used (by default, returns null - nothing rendered)`);
      return _this._renderRules.unknown;
    }
    return renderFunction;
  };
  this.renderNode = function (node, parentNodes) {
    var isRoot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    var renderFunction = _this.getRenderFunction(node.type);
    var parents = (0, _toConsumableArray2.default)(parentNodes);
    if (_this._debugPrintTree === true) {
      var str = '';
      for (var a = 0; a < parents.length; a++) {
        str = str + '-';
      }
      console.log(`${str}${node.type}`);
    }
    parents.unshift(node);
    var children = node.children.map(function (value) {
      return _this.renderNode(value, parents);
    });
    if (node.type === 'link' || node.type === 'blocklink') {
      return renderFunction(node, children, parentNodes, _this._style, _this._onLinkPress);
    }
    if (node.type === 'image') {
      return renderFunction(node, children, parentNodes, _this._style, _this._allowedImageHandlers, _this._defaultImageHandler);
    }
    if (children.length === 0 || node.type === 'list_item') {
      var styleObj = {};
      for (var _a = parentNodes.length - 1; _a > -1; _a--) {
        var refStyle = {};
        if (parentNodes[_a].attributes && parentNodes[_a].attributes.style && typeof parentNodes[_a].attributes.style === 'string') {
          refStyle = (0, _convertAdditionalStyles.default)(parentNodes[_a].attributes.style);
        }
        if (_this._style[parentNodes[_a].type]) {
          refStyle = Object.assign({}, refStyle, _reactNative.StyleSheet.flatten(_this._style[parentNodes[_a].type]));
          if (parentNodes[_a].type === 'list_item') {
            var contentStyle = {};
            if (parentNodes[_a + 1].type === 'bullet_list') {
              contentStyle = _this._style.bullet_list_content;
            } else if (parentNodes[_a + 1].type === 'ordered_list') {
              contentStyle = _this._style.ordered_list_content;
            }
            refStyle = Object.assign({}, refStyle, _reactNative.StyleSheet.flatten(contentStyle));
          }
        }
        var arr = Object.keys(refStyle);
        for (var b = 0; b < arr.length; b++) {
          if (_textStyleProps.default.includes(arr[b])) {
            styleObj[arr[b]] = refStyle[arr[b]];
          }
        }
      }
      return renderFunction(node, children, parentNodes, _this._style, styleObj);
    }
    if (isRoot === true && _this._maxTopLevelChildren && children.length > _this._maxTopLevelChildren) {
      children = children.slice(0, _this._maxTopLevelChildren);
      children.push(_this._topLevelMaxExceededItem);
    }
    return renderFunction(node, children, parentNodes, _this._style);
  };
  this.render = function (nodes) {
    var root = {
      type: 'body',
      key: (0, _getUniqueID.default)(),
      children: nodes
    };
    return _this.renderNode(root, [], true);
  };
  this._renderRules = renderRules;
  this._style = style;
  this._onLinkPress = onLinkPress;
  this._maxTopLevelChildren = maxTopLevelChildren;
  this._topLevelMaxExceededItem = topLevelMaxExceededItem;
  this._allowedImageHandlers = allowedImageHandlers;
  this._defaultImageHandler = defaultImageHandler;
  this._debugPrintTree = debugPrintTree;
});
exports.default = AstRenderer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2dldFVuaXF1ZUlEIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jb252ZXJ0QWRkaXRpb25hbFN0eWxlcyIsIl90ZXh0U3R5bGVQcm9wcyIsIkFzdFJlbmRlcmVyIiwiX2NyZWF0ZUNsYXNzMiIsImRlZmF1bHQiLCJyZW5kZXJSdWxlcyIsInN0eWxlIiwib25MaW5rUHJlc3MiLCJtYXhUb3BMZXZlbENoaWxkcmVuIiwidG9wTGV2ZWxNYXhFeGNlZWRlZEl0ZW0iLCJhbGxvd2VkSW1hZ2VIYW5kbGVycyIsImRlZmF1bHRJbWFnZUhhbmRsZXIiLCJkZWJ1Z1ByaW50VHJlZSIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsImdldFJlbmRlckZ1bmN0aW9uIiwidHlwZSIsInJlbmRlckZ1bmN0aW9uIiwiX3JlbmRlclJ1bGVzIiwiY29uc29sZSIsIndhcm4iLCJ1bmtub3duIiwicmVuZGVyTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlcyIsImlzUm9vdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInBhcmVudHMiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX2RlYnVnUHJpbnRUcmVlIiwic3RyIiwiYSIsImxvZyIsInVuc2hpZnQiLCJjaGlsZHJlbiIsIm1hcCIsInZhbHVlIiwiX3N0eWxlIiwiX29uTGlua1ByZXNzIiwiX2FsbG93ZWRJbWFnZUhhbmRsZXJzIiwiX2RlZmF1bHRJbWFnZUhhbmRsZXIiLCJzdHlsZU9iaiIsInJlZlN0eWxlIiwiYXR0cmlidXRlcyIsImNvbnZlcnRBZGRpdGlvbmFsU3R5bGVzIiwiT2JqZWN0IiwiYXNzaWduIiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJjb250ZW50U3R5bGUiLCJidWxsZXRfbGlzdF9jb250ZW50Iiwib3JkZXJlZF9saXN0X2NvbnRlbnQiLCJhcnIiLCJrZXlzIiwiYiIsInRleHRTdHlsZVByb3BzIiwiaW5jbHVkZXMiLCJfbWF4VG9wTGV2ZWxDaGlsZHJlbiIsInNsaWNlIiwicHVzaCIsIl90b3BMZXZlbE1heEV4Y2VlZGVkSXRlbSIsInJlbmRlciIsIm5vZGVzIiwicm9vdCIsImtleSIsImdldFVuaXF1ZUlEIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkFzdFJlbmRlcmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U3R5bGVTaGVldH0gZnJvbSAncmVhY3QtbmF0aXZlJztcblxuaW1wb3J0IGdldFVuaXF1ZUlEIGZyb20gJy4vdXRpbC9nZXRVbmlxdWVJRCc7XG5pbXBvcnQgY29udmVydEFkZGl0aW9uYWxTdHlsZXMgZnJvbSAnLi91dGlsL2NvbnZlcnRBZGRpdGlvbmFsU3R5bGVzJztcblxuaW1wb3J0IHRleHRTdHlsZVByb3BzIGZyb20gJy4vZGF0YS90ZXh0U3R5bGVQcm9wcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzdFJlbmRlcmVyIHtcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gcmVuZGVyUnVsZXNcbiAgICogQHBhcmFtIHthbnl9IHN0eWxlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZW5kZXJSdWxlcyxcbiAgICBzdHlsZSxcbiAgICBvbkxpbmtQcmVzcyxcbiAgICBtYXhUb3BMZXZlbENoaWxkcmVuLFxuICAgIHRvcExldmVsTWF4RXhjZWVkZWRJdGVtLFxuICAgIGFsbG93ZWRJbWFnZUhhbmRsZXJzLFxuICAgIGRlZmF1bHRJbWFnZUhhbmRsZXIsXG4gICAgZGVidWdQcmludFRyZWUsXG4gICkge1xuICAgIHRoaXMuX3JlbmRlclJ1bGVzID0gcmVuZGVyUnVsZXM7XG4gICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLl9vbkxpbmtQcmVzcyA9IG9uTGlua1ByZXNzO1xuICAgIHRoaXMuX21heFRvcExldmVsQ2hpbGRyZW4gPSBtYXhUb3BMZXZlbENoaWxkcmVuO1xuICAgIHRoaXMuX3RvcExldmVsTWF4RXhjZWVkZWRJdGVtID0gdG9wTGV2ZWxNYXhFeGNlZWRlZEl0ZW07XG4gICAgdGhpcy5fYWxsb3dlZEltYWdlSGFuZGxlcnMgPSBhbGxvd2VkSW1hZ2VIYW5kbGVycztcbiAgICB0aGlzLl9kZWZhdWx0SW1hZ2VIYW5kbGVyID0gZGVmYXVsdEltYWdlSGFuZGxlcjtcbiAgICB0aGlzLl9kZWJ1Z1ByaW50VHJlZSA9IGRlYnVnUHJpbnRUcmVlO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldFJlbmRlckZ1bmN0aW9uID0gKHR5cGUpID0+IHtcbiAgICBjb25zdCByZW5kZXJGdW5jdGlvbiA9IHRoaXMuX3JlbmRlclJ1bGVzW3R5cGVdO1xuXG4gICAgaWYgKCFyZW5kZXJGdW5jdGlvbikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgV2FybmluZywgdW5rbm93biByZW5kZXIgcnVsZSBlbmNvdW50ZXJlZDogJHt0eXBlfS4gJ3Vua25vd24nIHJlbmRlciBydWxlIHVzZWQgKGJ5IGRlZmF1bHQsIHJldHVybnMgbnVsbCAtIG5vdGhpbmcgcmVuZGVyZWQpYCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUnVsZXMudW5rbm93bjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyRnVuY3Rpb247XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBub2RlXG4gICAqIEBwYXJhbSBwYXJlbnROb2Rlc1xuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgcmVuZGVyTm9kZSA9IChub2RlLCBwYXJlbnROb2RlcywgaXNSb290ID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCByZW5kZXJGdW5jdGlvbiA9IHRoaXMuZ2V0UmVuZGVyRnVuY3Rpb24obm9kZS50eXBlKTtcbiAgICBjb25zdCBwYXJlbnRzID0gWy4uLnBhcmVudE5vZGVzXTtcblxuICAgIGlmICh0aGlzLl9kZWJ1Z1ByaW50VHJlZSA9PT0gdHJ1ZSkge1xuICAgICAgbGV0IHN0ciA9ICcnO1xuXG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IHBhcmVudHMubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgc3RyID0gc3RyICsgJy0nO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhgJHtzdHJ9JHtub2RlLnR5cGV9YCk7XG4gICAgfVxuXG4gICAgcGFyZW50cy51bnNoaWZ0KG5vZGUpO1xuXG4gICAgLy8gY2FsY3VsYXRlIHRoZSBjaGlsZHJlbiBmaXJzdFxuICAgIGxldCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyTm9kZSh2YWx1ZSwgcGFyZW50cyk7XG4gICAgfSk7XG5cbiAgICAvLyByZW5kZXIgYW55IHNwZWNpYWwgdHlwZXMgb2Ygbm9kZXMgdGhhdCBoYXZlIGRpZmZlcmVudCByZW5kZXJSdWxlIGZ1bmN0aW9uIHNpZ25hdHVyZXNcblxuICAgIGlmIChub2RlLnR5cGUgPT09ICdsaW5rJyB8fCBub2RlLnR5cGUgPT09ICdibG9ja2xpbmsnKSB7XG4gICAgICByZXR1cm4gcmVuZGVyRnVuY3Rpb24oXG4gICAgICAgIG5vZGUsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBwYXJlbnROb2RlcyxcbiAgICAgICAgdGhpcy5fc3R5bGUsXG4gICAgICAgIHRoaXMuX29uTGlua1ByZXNzLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS50eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICByZXR1cm4gcmVuZGVyRnVuY3Rpb24oXG4gICAgICAgIG5vZGUsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBwYXJlbnROb2RlcyxcbiAgICAgICAgdGhpcy5fc3R5bGUsXG4gICAgICAgIHRoaXMuX2FsbG93ZWRJbWFnZUhhbmRsZXJzLFxuICAgICAgICB0aGlzLl9kZWZhdWx0SW1hZ2VIYW5kbGVyLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgYXQgdGhlIGJvdHRvbSBvZiBzb21lIHRyZWUgLSBncmFiIGFsbCB0aGUgcGFyZW50IHN0eWxlc1xuICAgIC8vIHRoaXMgZWZmZWN0aXZlbHkgZ3JhYnMgdGhlIHN0eWxlcyBmcm9tIHBhcmVudHMgYW5kXG4gICAgLy8gYXBwbGllcyB0aGVtIGluIG9yZGVyIG9mIHByaW9yaXR5IHBhcmVudCAobGVhc3QpIHRvIGNoaWxkIChtb3N0KVxuICAgIC8vIHRvIGFsbG93IHN0eWxpbmcgZ2xvYmFsLCB0aGVuIGxvd2VyIGRvd24gdGhpbmdzIGluZGl2aWR1YWxseVxuXG4gICAgLy8gd2UgaGF2ZSB0byBoYW5kbGUgbGlzdF9pdGVtIHNlcGVyYXRlbHkgaGVyZSBiZWNhdXNlIHRoZXkgaGF2ZSBzb21lIGNoaWxkXG4gICAgLy8gcHNldWRvIGNsYXNzZXMgdGhhdCBuZWVkIHRoZSBhZGRpdGlvbmFsIHN0eWxlIHByb3BzIGZyb20gcGFyZW50cyBwYXNzZWQgZG93biB0byB0aGVtXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fCBub2RlLnR5cGUgPT09ICdsaXN0X2l0ZW0nKSB7XG4gICAgICBjb25zdCBzdHlsZU9iaiA9IHt9O1xuXG4gICAgICBmb3IgKGxldCBhID0gcGFyZW50Tm9kZXMubGVuZ3RoIC0gMTsgYSA+IC0xOyBhLS0pIHtcbiAgICAgICAgLy8gZ3JhYiBhbmQgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHNwZWNpZmllZCBieSBtYXJrZG93bi1pdFxuICAgICAgICBsZXQgcmVmU3R5bGUgPSB7fTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcGFyZW50Tm9kZXNbYV0uYXR0cmlidXRlcyAmJlxuICAgICAgICAgIHBhcmVudE5vZGVzW2FdLmF0dHJpYnV0ZXMuc3R5bGUgJiZcbiAgICAgICAgICB0eXBlb2YgcGFyZW50Tm9kZXNbYV0uYXR0cmlidXRlcy5zdHlsZSA9PT0gJ3N0cmluZydcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVmU3R5bGUgPSBjb252ZXJ0QWRkaXRpb25hbFN0eWxlcyhwYXJlbnROb2Rlc1thXS5hdHRyaWJ1dGVzLnN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbWJpbmUgaW4gc3BlY2lmaWMgc3R5bGVzIGZvciB0aGUgb2JqZWN0XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZVtwYXJlbnROb2Rlc1thXS50eXBlXSkge1xuICAgICAgICAgIHJlZlN0eWxlID0ge1xuICAgICAgICAgICAgLi4ucmVmU3R5bGUsXG4gICAgICAgICAgICAuLi5TdHlsZVNoZWV0LmZsYXR0ZW4odGhpcy5fc3R5bGVbcGFyZW50Tm9kZXNbYV0udHlwZV0pLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBsaXN0X2l0ZW1zIGFuZCB0aGVpciBjb250ZW50IGNhc2NhZGluZyBkb3duIHRoZSB0cmVlXG4gICAgICAgICAgaWYgKHBhcmVudE5vZGVzW2FdLnR5cGUgPT09ICdsaXN0X2l0ZW0nKSB7XG4gICAgICAgICAgICBsZXQgY29udGVudFN0eWxlID0ge307XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnROb2Rlc1thICsgMV0udHlwZSA9PT0gJ2J1bGxldF9saXN0Jykge1xuICAgICAgICAgICAgICBjb250ZW50U3R5bGUgPSB0aGlzLl9zdHlsZS5idWxsZXRfbGlzdF9jb250ZW50O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJlbnROb2Rlc1thICsgMV0udHlwZSA9PT0gJ29yZGVyZWRfbGlzdCcpIHtcbiAgICAgICAgICAgICAgY29udGVudFN0eWxlID0gdGhpcy5fc3R5bGUub3JkZXJlZF9saXN0X2NvbnRlbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlZlN0eWxlID0ge1xuICAgICAgICAgICAgICAuLi5yZWZTdHlsZSxcbiAgICAgICAgICAgICAgLi4uU3R5bGVTaGVldC5mbGF0dGVuKGNvbnRlbnRTdHlsZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZW4gd29yayBvdXQgaWYgYW55IG9mIHRoZW0gYXJlIHRleHQgc3R5bGVzIHRoYXQgc2hvdWxkIGJlIHVzZWQgaW4gdGhlIGVuZC5cbiAgICAgICAgY29uc3QgYXJyID0gT2JqZWN0LmtleXMocmVmU3R5bGUpO1xuXG4gICAgICAgIGZvciAobGV0IGIgPSAwOyBiIDwgYXJyLmxlbmd0aDsgYisrKSB7XG4gICAgICAgICAgaWYgKHRleHRTdHlsZVByb3BzLmluY2x1ZGVzKGFycltiXSkpIHtcbiAgICAgICAgICAgIHN0eWxlT2JqW2FycltiXV0gPSByZWZTdHlsZVthcnJbYl1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyRnVuY3Rpb24obm9kZSwgY2hpbGRyZW4sIHBhcmVudE5vZGVzLCB0aGlzLl9zdHlsZSwgc3R5bGVPYmopO1xuICAgIH1cblxuICAgIC8vIGN1bGwgdG9wIGxldmVsIGNoaWxkcmVuXG5cbiAgICBpZiAoXG4gICAgICBpc1Jvb3QgPT09IHRydWUgJiZcbiAgICAgIHRoaXMuX21heFRvcExldmVsQ2hpbGRyZW4gJiZcbiAgICAgIGNoaWxkcmVuLmxlbmd0aCA+IHRoaXMuX21heFRvcExldmVsQ2hpbGRyZW5cbiAgICApIHtcbiAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uc2xpY2UoMCwgdGhpcy5fbWF4VG9wTGV2ZWxDaGlsZHJlbik7XG4gICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuX3RvcExldmVsTWF4RXhjZWVkZWRJdGVtKTtcbiAgICB9XG5cbiAgICAvLyByZW5kZXIgYW55dGhpZ24gZWxzZSB0aGF0IGhhcyBhIG5vcm1hbCBzaWduYXR1cmVcblxuICAgIHJldHVybiByZW5kZXJGdW5jdGlvbihub2RlLCBjaGlsZHJlbiwgcGFyZW50Tm9kZXMsIHRoaXMuX3N0eWxlKTtcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIG5vZGVzXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICByZW5kZXIgPSAobm9kZXMpID0+IHtcbiAgICBjb25zdCByb290ID0ge3R5cGU6ICdib2R5Jywga2V5OiBnZXRVbmlxdWVJRCgpLCBjaGlsZHJlbjogbm9kZXN9O1xuICAgIHJldHVybiB0aGlzLnJlbmRlck5vZGUocm9vdCwgW10sIHRydWUpO1xuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQUVBLElBQUFDLFlBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLHdCQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFFQSxJQUFBSSxlQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFBbUQsSUFFOUJLLFdBQVcsT0FBQUMsYUFBQSxDQUFBQyxPQUFBLEVBTTlCLFNBQUFGLFlBQ0VHLFdBQVcsRUFDWEMsS0FBSyxFQUNMQyxXQUFXLEVBQ1hDLG1CQUFtQixFQUNuQkMsdUJBQXVCLEVBQ3ZCQyxvQkFBb0IsRUFDcEJDLG1CQUFtQixFQUNuQkMsY0FBYyxFQUNkO0VBQUEsSUFBQUMsS0FBQTtFQUFBLElBQUFDLGdCQUFBLENBQUFWLE9BQUEsUUFBQUYsV0FBQTtFQUFBLEtBZ0JGYSxpQkFBaUIsR0FBRyxVQUFDQyxJQUFJLEVBQUs7SUFDNUIsSUFBTUMsY0FBYyxHQUFHSixLQUFJLENBQUNLLFlBQVksQ0FBQ0YsSUFBSSxDQUFDO0lBRTlDLElBQUksQ0FBQ0MsY0FBYyxFQUFFO01BQ25CRSxPQUFPLENBQUNDLElBQUksQ0FDVCw2Q0FBNENKLElBQUssNEVBQ3BELENBQUM7TUFDRCxPQUFPSCxLQUFJLENBQUNLLFlBQVksQ0FBQ0csT0FBTztJQUNsQztJQUVBLE9BQU9KLGNBQWM7RUFDdkIsQ0FBQztFQUFBLEtBUURLLFVBQVUsR0FBRyxVQUFDQyxJQUFJLEVBQUVDLFdBQVcsRUFBcUI7SUFBQSxJQUFuQkMsTUFBTSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxLQUFL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