{"version":3,"names":["_core","require","_breadcrumb","_normalize","_wrapper","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","e","ReactNativeScope","_Scope","_inherits2","_super","_classCallCheck2","_createClass2","key","value","setUser","user","NATIVE","_get2","setTag","setTags","tags","Object","keys","forEach","setExtras","extras","setExtra","extra","addBreadcrumb","breadcrumb","maxBreadcrumbs","mergedBreadcrumb","assign","level","DEFAULT_BREADCRUMB_LEVEL","data","convertToNormalizedObject","undefined","finalBreadcrumb","_breadcrumbs","length","clearBreadcrumbs","setContext","context","addAttachment","attachment","clearAttachments","Scope","exports"],"sources":["../../src/js/scope.ts"],"sourcesContent":["import { Scope } from '@sentry/core';\nimport type { Attachment, Breadcrumb, User } from '@sentry/types';\n\nimport { DEFAULT_BREADCRUMB_LEVEL } from './breadcrumb';\nimport { convertToNormalizedObject } from './utils/normalize';\nimport { NATIVE } from './wrapper';\n\n/**\n * Extends the scope methods to set scope on the Native SDKs\n */\nexport class ReactNativeScope extends Scope {\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): this {\n    NATIVE.setUser(user);\n    return super.setUser(user);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: string): this {\n    NATIVE.setTag(key, value);\n    return super.setTag(key, value);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: string }): this {\n    // As native only has setTag, we just loop through each tag key.\n    Object.keys(tags).forEach(key => {\n      NATIVE.setTag(key, tags[key]);\n    });\n    return super.setTags(tags);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public setExtras(extras: { [key: string]: any }): this {\n    Object.keys(extras).forEach(key => {\n      NATIVE.setExtra(key, extras[key]);\n    });\n    return super.setExtras(extras);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types,@typescript-eslint/no-explicit-any\n  public setExtra(key: string, extra: any): this {\n    NATIVE.setExtra(key, extra);\n    return super.setExtra(key, extra);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, maxBreadcrumbs?: number): this {\n    const mergedBreadcrumb: Breadcrumb = {\n      ...breadcrumb,\n      level: breadcrumb.level || DEFAULT_BREADCRUMB_LEVEL,\n      data: breadcrumb.data ? convertToNormalizedObject(breadcrumb.data) : undefined,\n    };\n\n    super.addBreadcrumb(mergedBreadcrumb, maxBreadcrumbs);\n\n    const finalBreadcrumb = this._breadcrumbs[this._breadcrumbs.length - 1];\n    NATIVE.addBreadcrumb(finalBreadcrumb);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clearBreadcrumbs(): this {\n    NATIVE.clearBreadcrumbs();\n    return super.clearBreadcrumbs();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public setContext(key: string, context: { [key: string]: any } | null): this {\n    NATIVE.setContext(key, context);\n    return super.setContext(key, context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addAttachment(attachment: Attachment): this {\n    return super.addAttachment(attachment);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clearAttachments(): this {\n    return super.clearAttachments();\n  }\n}\n"],"mappings":"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"}